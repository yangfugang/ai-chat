(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9b856b98"],{"1e26":function(t,e,a){"use strict";a("efb8")},"4b3d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"record"},[e("div",{staticClass:"i-layout-page-header"},[e("div",{staticClass:"i-layout-page-header"},[e("span",{staticClass:"ivu-page-header-title"},[t._v(t._s(t.$route.meta.title))])])]),t.cardLists.length?e("cards-data",{attrs:{cardLists:t.cardLists}}):t._e(),e("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[e("Form",{ref:"formValidate",staticClass:"tabform",attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[e("Row",{attrs:{gutter:24}},[e("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[e("FormItem",{attrs:{label:"时间："}},[e("RadioGroup",{staticClass:"mr",attrs:{type:"button"},on:{"on-change":function(e){return t.selectChange(t.formValidate.time)}},model:{value:t.formValidate.time,callback:function(e){t.$set(t.formValidate,"time",e)},expression:"formValidate.time"}},t._l(t.fromList.fromTxt,(function(a,n){return e("Radio",{key:n,attrs:{label:a.val}},[t._v(t._s(a.text))])})),1),e("DatePicker",{staticStyle:{width:"200px"},attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"自定义时间"},on:{"on-change":t.onchangeTime}})],1)],1),e("Col",{staticClass:"ivu-text-left",attrs:{span:"10"}},[e("FormItem",{attrs:{label:"搜索："}},[e("Input",{attrs:{placeholder:"请输入",clearable:"",search:"","enter-button":""},on:{"on-search":t.selChange},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1)],1)],1),e("Table",{staticClass:"ivu-mt",attrs:{columns:t.columns,data:t.tableData,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据"},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.row;a.index;return[e("a",{on:{click:function(e){return t.lock(n)}}},[t._v("查看聊天记录")])]}},{key:"avatar",fn:function(t){var a=t.row;t.index;return[e("img",{staticClass:"avatar",attrs:{src:a.user.avatar,alt:""}})]}},{key:"nickname",fn:function(a){var n=a.row;a.index;return[e("span",[t._v(t._s(n.user.nickname))])]}},{key:"nickname1",fn:function(a){var n=a.row;a.index;return[e("span",[t._v(t._s(n.dialogueUser.nickname))])]}}])}),e("div",{staticClass:"acea-row row-right page"},[e("Page",{attrs:{total:t.total,"page-size":t.formValidate.limit,"show-elevator":"","show-total":""},on:{"on-change":t.onChange}})],1)],1),e("Modal",{attrs:{"footer-hide":"",scrollable:"",closable:"",title:t.modalTitle,width:"1000"},on:{"on-cancel":t.modals3Cancel},model:{value:t.modals3,callback:function(e){t.modals3=e},expression:"modals3"}},[e("div",{staticClass:"modelBox"},[e("Form",{ref:"formValidate",staticClass:"tabform",attrs:{model:t.formValidate3,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[e("Row",{attrs:{gutter:24}},[e("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[e("FormItem",{attrs:{label:"时间："}},[e("RadioGroup",{staticClass:"mr",attrs:{type:"button"},on:{"on-change":t.onchangeMsgTime},model:{value:t.formValidate3.time,callback:function(e){t.$set(t.formValidate3,"time",e)},expression:"formValidate3.time"}},t._l(t.fromList.fromTxt,(function(a,n){return e("Radio",{key:n,attrs:{label:a.val}},[t._v(t._s(a.text))])})),1),e("DatePicker",{staticStyle:{width:"200px"},attrs:{editable:!1,value:t.formValidate3.time,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"自定义时间"},on:{"on-change":t.onchangeMsgTime}})],1)],1),e("Col",{staticClass:"ivu-text-left",attrs:{span:"10"}},[e("FormItem",{attrs:{label:"搜索："}},[e("Input",{attrs:{placeholder:"请输入聊天内容",clearable:"",search:"","enter-button":""},on:{"on-search":t.onchangeMsgTime},model:{value:t.formValidate3.msn,callback:function(e){t.$set(t.formValidate3,"msn",e)},expression:"formValidate3.msn"}})],1)],1)],1)],1),e("Table",{attrs:{loading:t.loading3,"highlight-row":"","no-userFrom-text":"暂无数据","no-filtered-userFrom-text":"暂无筛选结果",columns:t.columns3,data:t.tableList3},scopedSlots:t._u([{key:"avatar",fn:function(t){var a=t.row;t.index;return[e("viewer",[e("div",{staticClass:"tabBox_img"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:a.userThis.avatar,expression:"row.userThis.avatar"}]})])])]}},{key:"nickname",fn:function(a){var n=a.row;a.index;return[e("span",[t._v(t._s(n.userThis.nickname))])]}},{key:"to_nickname",fn:function(a){var n=a.row;a.index;return[e("span",[t._v(t._s(n.user.nickname))])]}},{key:"msn",fn:function(a){var n=a.row;a.index;return[e("span",[t._v(t._s(n.msn))])]}},{key:"action",fn:function(a){var n=a.row;a.index;return[e("a",{on:{click:function(e){return t.look(n)}}},[t._v("查看对话")])]}}])}),e("div",{staticClass:"acea-row row-right page"},[e("Page",{attrs:{total:t.total3,"show-elevator":"","show-total":"","page-size":t.formValidate3.limit},on:{"on-change":t.pageChange3}})],1)],1)])],1)},r=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("ade3")),i=a("90e7"),c=a("2f62"),s=(a("7f7f"),function(){var t=this,e=t._self._c;return e("div",[e("Row",{staticClass:"ivu-mt",attrs:{type:"flex",align:"middle",gutter:10}},t._l(t.cardLists,(function(a,n){return e("Col",{key:n,staticClass:"ivu-mb",attrs:{xl:a.col,lg:6,md:12,sm:24,xs:24}},[e("Card",{staticClass:"card_cent",attrs:{shadow:"",padding:0}},[e("div",{staticClass:"card_box"},[e("div",{staticClass:"card_box_cir",class:{one:n%5==0,two:n%5==1,three:n%5==2,four:n%5==3,five:n%5==4}},[e("div",{staticClass:"card_box_cir1",class:{one1:n%5==0,two1:n%5==1,three1:n%5==2,four1:n%5==3,five1:n%5==4}},[e("Icon",{attrs:{type:a.className}})],1)]),e("div",{staticClass:"card_box_txt"},[e("span",{staticClass:"sp1",domProps:{textContent:t._s(a.count||0)}}),e("span",{staticClass:"sp2",domProps:{textContent:t._s(a.name)}})])])])],1)})),1)],1)}),l=[],u={name:"cards",data:function(){return{}},props:{cardLists:Array},methods:{},created:function(){}},d=u,m=(a("1e26"),a("2877")),f=Object(m["a"])(d,s,l,!1,null,"2907c959",null),h=f.exports;function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){Object(o["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"kefu_record",components:{cardsData:h},data:function(){return{modals3:!1,isChat:!0,loading3:!1,total3:0,modalTitle:"",lockUserId:0,cardLists:[],columns3:[{title:"用户名称",slot:"nickname",width:200},{title:"用户头像",slot:"avatar"},{title:"对话人昵称",slot:"to_nickname"},{title:"聊天内容",slot:"msn"}],tableList3:[],formValidate3:{page:1,limit:15,user_id:0,time:"",msn:""},formValidate:{nickname:"",time:"",page:1,limit:15},searchType:"",searchValue:"",fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},timeVal:[],columns:[{title:"ID",key:"id",width:80},{title:"用户昵称",slot:"nickname",minWidth:120},{title:"用户头像",slot:"avatar",minWidth:150},{title:"对话人昵称",slot:"nickname1"},{title:"时间",key:"_add_time",minWidth:120},{title:"操作",slot:"action",minWidth:150,fixed:"right"}],tableData:[],loading:!1,total:0,kefuList:[],search:{kefu_id:0},statistics:{}}},computed:b(b({},Object(c["e"])("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:80},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.recordUserList()},methods:{pageChange3:function(t){this.formValidate3.page=t,this.getChatRecordList()},modals3Cancel:function(){this.formValidate3.page=1,this.formValidate3.msn="",this.formValidate3.time="",this.formValidate3.user_id=0},onchangeMsgTime:function(){this.formValidate3.page=1,this.getChatRecordList()},getChatRecordList:function(){var t=this;this.loading3=!0,Object(i["c"])(this.formValidate3).then((function(e){t.loading3=!1,t.tableList3=e.data.list,t.total3=e.data.count})).catch((function(){t.loading3=!1}))},lock:function(t){this.modals3=!0,this.modalTitle=t.nickname+" - 聊天记录",this.formValidate3.user_id=t.user_id,this.formValidate3.page=1,this.getChatRecordList()},recordUserList:function(){var t=this;Object(i["u"])(this.formValidate).then((function(e){t.tableData=e.data.list,t.total=e.data.count,t.cardLists=[{className:"ios-contact",col:6,count:e.data.data.user_count,name:"用户总数"},{className:"ios-contact",col:6,count:e.data.data.tourist_count,name:"游客总数"},{className:"ios-contact",col:6,count:e.data.data.dialogue_count,name:"聊天记录总数"},{className:"",col:6,count:e.data.data.recode_count,name:"聊天用户总数"}]}))},onChange:function(t){this.formValidate.page=t,this.recordUserList()},selChange:function(){this.formValidate.page=1,this.recordUserList()},onchangeTime:function(t){this.timeVal=t,this.formValidate.time=this.timeVal.join("-"),this.formValidate.page=1,this.recordUserList()},selectChange:function(t){console.log(t),this.formValidate.time=t,this.timeVal=[],this.formValidate.page=1,this.recordUserList()}}},v=p,k=(a("e555"),Object(m["a"])(v,n,r,!1,null,"a8e3690a",null));e["default"]=k.exports},"6c0c":function(t,e,a){},"90e7":function(t,e,a){"use strict";a.d(e,"f",(function(){return r})),a.d(e,"e",(function(){return o})),a.d(e,"o",(function(){return i})),a.d(e,"G",(function(){return c})),a.d(e,"C",(function(){return s})),a.d(e,"B",(function(){return l})),a.d(e,"k",(function(){return u})),a.d(e,"l",(function(){return d})),a.d(e,"D",(function(){return m})),a.d(e,"E",(function(){return f})),a.d(e,"F",(function(){return h})),a.d(e,"x",(function(){return g})),a.d(e,"y",(function(){return b})),a.d(e,"v",(function(){return p})),a.d(e,"w",(function(){return v})),a.d(e,"t",(function(){return k})),a.d(e,"n",(function(){return O})),a.d(e,"r",(function(){return _})),a.d(e,"q",(function(){return y})),a.d(e,"g",(function(){return C})),a.d(e,"s",(function(){return j})),a.d(e,"j",(function(){return x})),a.d(e,"p",(function(){return w})),a.d(e,"h",(function(){return V})),a.d(e,"a",(function(){return L})),a.d(e,"b",(function(){return T})),a.d(e,"d",(function(){return P})),a.d(e,"m",(function(){return D})),a.d(e,"i",(function(){return M})),a.d(e,"c",(function(){return R})),a.d(e,"z",(function(){return F})),a.d(e,"A",(function(){return U})),a.d(e,"u",(function(){return I}));var n=a("6b6c");function r(t){return Object(n["a"])({url:"setting/config/header_basics",method:"get",params:t})}function o(t,e){return Object(n["a"])({url:e,method:"get",params:t})}function i(t){return Object(n["a"])({url:"chat/kefu/login/".concat(t),method:"get"})}function c(t){return Object(n["a"])({url:"chat/speechcraft",method:"get",params:t})}function s(t){return Object(n["a"])({url:"chat/speechcraft/".concat(t,"/edit"),method:"get"})}function l(){return Object(n["a"])({url:"chat/speechcraft/create",method:"get"})}function u(t){return Object(n["a"])({url:"chat/feedback",method:"get",params:t})}function d(t){return Object(n["a"])({url:"chat/feedback/".concat(t,"/edit"),method:"get"})}function m(){return Object(n["a"])({url:"chat/speechcraftcate",method:"get"})}function f(){return Object(n["a"])({url:"chat/speechcraftcate/create",method:"get"})}function h(t){return Object(n["a"])({url:"chat/speechcraftcate/".concat(t,"/edit"),method:"get"})}function g(t){return Object(n["a"])({url:"setting/role",method:"GET",params:t})}function b(t){return Object(n["a"])({url:"setting/role/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function p(t){return Object(n["a"])({url:"setting/role/".concat(t.id),method:"post",data:t})}function v(t){return Object(n["a"])({url:"setting/role/".concat(t,"/edit"),method:"get"})}function k(){return Object(n["a"])({url:"setting/role/create",method:"get"})}function O(t){return Object(n["a"])({url:"chat/kefu",method:"get",params:t})}function _(t){return Object(n["a"])({url:"chat/kefu/create",method:"get",params:t})}function y(){return Object(n["a"])({url:"chat/kefu/add",method:"get"})}function C(t){return Object(n["a"])({url:"chat/kefu",method:"post",data:t})}function j(t){return Object(n["a"])({url:"chat/kefu/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function x(t){return Object(n["a"])({url:"chat/kefu/".concat(t,"/edit"),method:"GET"})}function w(t,e){return Object(n["a"])({url:"chat/kefu/record/".concat(e),method:"GET",params:t})}function V(t){return Object(n["a"])({url:"chat/kefu/chat_list",method:"GET",params:t})}function L(t){return Object(n["a"])({url:"chat/qrcode",method:"get",params:t})}function T(t){return Object(n["a"])({url:"chat/qrcode/".concat(t),method:"get"})}function P(t){return Object(n["a"])({url:"chat/statistics",method:"get",params:t})}function D(){return Object(n["a"])({url:"chat/group",method:"get"})}function M(t){return Object(n["a"])({url:"chat/group/create/"+t,method:"get"})}function R(t){return Object(n["a"])({url:"chat/record",method:"get",params:t})}function F(t){return Object(n["a"])({url:"setting/verison",method:"get",params:t})}function U(t){return Object(n["a"])({url:"setting/verison/".concat(t),method:"get"})}function I(t){return Object(n["a"])({url:"chat/record/list",method:"get",params:t})}},e555:function(t,e,a){"use strict";a("6c0c")},efb8:function(t,e,a){}}]);