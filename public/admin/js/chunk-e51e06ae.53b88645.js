(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e51e06ae"],{"011a":function(t,e,i){t.exports=i.p+"img/no_chat.b9c3e583.png"},"0363":function(t,e,i){"use strict";var s=i("d949"),n=i.n(s);n.a},"060a":function(t,e,i){t.exports=i.p+"img/no_tk.401d40f4.png"},"13e90":function(t,e,i){},"14cd":function(t,e,i){"use strict";var s=i("2f24"),n=i.n(s);n.a},"16b0":function(t,e,i){t.exports=i.p+"media/notice.51a07ae7.wav"},"21c4":function(t,e,i){},"2f21":function(t,e,i){"use strict";var s=i("79e5");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"2f24":function(t,e,i){},"2fcc":function(t,e,i){},"33f0":function(t,e,i){"use strict";var s=i("99cf"),n=i.n(s);n.a},"37d1":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kefu-layouts"},[i("div",{staticClass:"content-wrapper"},[i("baseHeader",{attrs:{kefuInfo:t.kefuInfo,online:t.online},on:{setOnline:t.setOnline}}),i("div",{staticClass:"container"},[i("chatList",{ref:"chatList",attrs:{isShow:t.isShow,userOnline:t.userOnline,newRecored:t.newRecored,searchData:t.searchData},on:{setDataId:t.setDataId,search:t.bindSearch,changeType:t.changeType}}),i("div",{staticClass:"chat-content"},[i("div",{staticClass:"chat-body"},[i("happy-scroll",{attrs:{size:"5",resize:"","hide-horizontal":"","scroll-top":t.scrollTop},on:{"vertical-start":t.scrollHandler}},[i("div",{ref:"scrollBox",staticStyle:{width:"600px",padding:"20px"},attrs:{id:"chat_scroll"}},[i("Spin",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}]},[i("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),i("div",[t._v("Loading")])],1),t._l(t.records,(function(e,s){return i("div",{key:s,staticClass:"chat-item",class:[{"right-box":-1!==t.kefuInfo.user_ids.indexOf(e.user_id)},{gary:5==e.msn_type}],attrs:{id:"chat_"+e.id}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],staticClass:"time"},[t._v(t._s(e.time))]),i("div",{staticClass:"flex-box"},[i("div",{staticClass:"avatar"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],attrs:{alt:""}})]),i("div",{staticClass:"msg-wrapper"},[e.msn_type<=2?[i("div",{staticClass:"txt-wrapper pad16",domProps:{innerHTML:t._s(e.msn)}})]:t._e(),3==e.msn_type?[i("div",{directives:[{name:"viewer",rawName:"v-viewer"}],staticClass:"img-wraper"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.msn,expression:"item.msn"}],attrs:{alt:""}})])]:t._e(),5==e.msn_type?[i("div",{staticClass:"order-wrapper pad16"},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:e.other.image,alt:""}})]),i("div",{staticClass:"order-info"},[i("div",{staticClass:"name line1"},[t._v(t._s(e.other.store_name))]),i("div",{staticClass:"sku"},[t._v("库存："+t._s(e.other.stock)+" 销量："+t._s(parseInt(e.other.sales)+parseInt(e.other.ficti?e.other.ficti:0)))]),i("div",{staticClass:"price-box"},[i("div",{staticClass:"num"},[t._v("¥ "+t._s(e.other.price))])])])])]:t._e(),6==e.msn_type&&(e.orderInfo.length>0||e.orderInfo.id)?[i("div",{staticClass:"order-wrapper pad16"},[i("div",{staticClass:"img-box"},[i("img",{attrs:{src:e.orderInfo.cartInfo[0].productInfo.image,alt:""}})]),i("div",{staticClass:"order-info"},[i("div",{staticClass:"name line1"},[t._v(t._s(e.orderInfo.order_id))]),i("div",{staticClass:"sku"},[t._v("商品数量："+t._s(e.orderInfo.total_num))]),i("div",{staticClass:"price-box"},[i("div",{staticClass:"num"},[t._v("¥ "+t._s(e.orderInfo.pay_price))]),i("a",{staticClass:"more",attrs:{href:"javascript:;"},on:{click:function(i){return i.stopPropagation(),t.lookOrder(e)}}},[t._v("查看订单 >")])])])])]:t._e()],2)])])}))],2)])],1),i("div",{staticClass:"chat-textarea"},[i("div",{staticClass:"chat-btn-wrapper"},[i("div",{staticClass:"left-wrapper"},[i("div",{staticClass:"icon-item",on:{click:function(e){e.stopPropagation(),t.isEmoji=!t.isEmoji}}},[i("span",{staticClass:"iconfont iconbiaoqing1"})]),i("div",{staticClass:"icon-item"},[i("Upload",{attrs:{"show-upload-list":!1,headers:t.header,data:t.uploadData,"on-success":t.handleSuccess,format:["jpg","jpeg","png","gif"],"on-format-error":t.handleFormatError,action:t.upload}},[i("span",{staticClass:"iconfont icontupian1"})])],1),i("div",{staticClass:"icon-item",on:{click:function(e){e.stopPropagation(),t.isMsg=!0}}},[i("span",{staticClass:"iconfont iconliaotian"})]),i("div",{staticClass:"icon-item",on:{click:function(e){e.stopPropagation(),t.authMsg=!0}}},[i("Icon",{staticStyle:{"font-weight":"bold"},attrs:{size:"22",color:"#515a6e",type:"ios-chatboxes-outline"}})],1)]),i("div",{staticClass:"right-wrapper"},[i("div",{staticClass:"icon-item",on:{click:function(e){e.stopPropagation(),t.isTransfer=!t.isTransfer}}},[i("span",{staticClass:"iconfont iconzhuanjie"}),i("span",[t._v("转接")])]),t.isTransfer?i("div",{staticClass:"transfer-box"},[i("transfer",{ref:"transfer",attrs:{userUid:t.userActive.to_user_id},on:{transferSuccess:t.transferSuccess,close:t.msgClose,transferPeople:t.transferPeople}})],1):t._e(),t.isTransfer?i("div",{staticClass:"transfer-bg",on:{click:function(e){e.stopPropagation(),t.isTransfer=!1}}}):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isEmoji,expression:"isEmoji"}],staticClass:"emoji-box"},t._l(t.emojiList,(function(e,s){return i("div",{key:s,staticClass:"emoji-item"},[i("i",{staticClass:"em",class:e,on:{click:function(i){return i.stopPropagation(),t.select(e)}}})])})),0)]),i("div",{staticClass:"textarea-box",staticStyle:{position:"relative"}},[i("div",{ref:"editable",staticClass:"editable",attrs:{contenteditable:"true"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendText(e)},paste:t.handlePaste,input:t.handleInput}}),i("div",{staticClass:"send-btn"},[i("Button",{staticClass:"btns",attrs:{type:"primary",disabled:t.disabled},on:{click:function(e){return e.stopPropagation(),t.sendText(e)}}},[t._v("发送")])],1)])])]),i("div",{staticClass:"right_menu"},[i("rightMenu",{attrs:{isTourist:t.tourist,uid:t.userActive.to_user_id,webType:t.userActive.type},on:{bindPush:t.bindPush}}),i("div",{staticClass:"crmchat_link",on:{click:t.tolink}},[i("span",[t._v("")])])],1)],1),i("Modal",{staticClass:"none-radius isMsgbox",attrs:{mask:!0,width:"600","footer-hide":!0},model:{value:t.isMsg,callback:function(e){t.isMsg=e},expression:"isMsg"}},[t.isMsg?i("msg-window",{on:{close:t.msgWinClose,activeTxt:t.activeTxt}}):t._e()],1),i("Modal",{staticClass:"none-radius isMsgbox",attrs:{mask:!0,width:"600","footer-hide":!0},model:{value:t.authMsg,callback:function(e){t.authMsg=e},expression:"authMsg"}},[t.authMsg?i("auth-reply",{on:{close:t.msgAuthClose,activeTxt:t.activeTxt}}):t._e()],1)],1)])},n=[],a=(i("8e6e"),i("456d"),i("2909")),o=(i("7f7f"),i("a481"),i("ade3")),r=(i("ac6a"),i("d708")),c=i("6db4"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"base-header"},[i("div",{staticClass:"left-wrapper"},[i("div",{staticClass:"user_info"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.kefuInfo.avatar,expression:"kefuInfo.avatar"}],attrs:{alt:""}}),i("span",[t._v(t._s(t.kefuInfo.nickname))]),i("div",{staticClass:"status-box"},[i("div",{staticClass:"status",class:t.online?"on":"off",on:{click:function(e){return e.stopPropagation(),t.setOnline(e)}}},[i("span",{staticClass:"dot"}),t._v("\n          "+t._s(t.online?"在线":"离线")+"\n        ")]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isOnline,expression:"isOnline"}],staticClass:"online-down"},[i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.changeOnline(1)}}},[1==t.online?i("span",{staticClass:"iconfont iconduihao"}):t._e(),i("i",{staticClass:"green"}),t._v("在线")]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.changeOnline(0)}}},[0==t.online?i("span",{staticClass:"iconfont iconduihao"}):t._e(),i("i"),t._v("离线")]),i("div",{staticClass:"item",on:{click:function(e){return e.stopPropagation(),t.changeOnline(3)}}},[3==t.online?i("span",{staticClass:"iconfont iconduihao"}):t._e(),i("i",{staticClass:"orange"}),t._v("退出登录")])])])])])])},d=[],u=(i("c5f6"),i("2f62")),h=i("2b0e");new h["default"];function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"baseHeader",props:{kefuInfo:{type:Object,default:function(){return{}}},online:{type:Boolean|Number,default:!0}},computed:{},data:function(){return{menuList:[{key:0,title:"客户信息"},{key:1,title:"交易订单"},{key:2,title:"商品信息"}],curIndex:0,isOnline:!1}},mounted:function(){var t=this;document.addEventListener("click",(function(){t.isOnline=!1}))},methods:m(m({},Object(u["b"])("kefu/",["logout","logoutKefu"])),{},{selectTab:function(t){this.curIndex=t.key,this.bus.$emit("selectRightMenu",this.curIndex)},setOnline:function(){this.isOnline=!this.isOnline},changeOnline:function(t){3!=t?(this.$emit("setOnline",t),this.isOnline=!1):this.outLogin()},outLogin:function(){var t=this;this.$Modal.confirm({title:"退出登录确认",content:"您确定退出登录当前账户吗？打开的标签页和个人设置将会保存。",onOk:function(){t.logoutKefu({confirm:!1,vm:t})},onCancel:function(){}})},bindSearch:function(t){this.$emit("search",t.target.value)},inputChange:function(t){console.log(t.target.value),this.bus.$emit("change",t.target.value)}})},g=p,v=(i("14cd"),i("2877")),b=Object(v["a"])(g,l,d,!1,null,"a11b1bcc",null),y=b.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatList"},[i("div",{staticClass:"search_box"},[i("Input",{attrs:{prefix:"ios-search",placeholder:"搜索用户名称"},on:{"on-enter":t.bindSearch,"on-change":t.inputChange}},[i("Icon",{attrs:{slot:"prepend",type:"ios-search"},slot:"prepend"}),i("Poptip",{attrs:{slot:"append",placement:"right-start",width:"350"},on:{"on-popper-show":t.onPopperShow},slot:"append",model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("Icon",{attrs:{type:"ios-funnel-outline"}}),i("Tabs",{attrs:{slot:"content"},slot:"content",model:{value:t.tabOn,callback:function(e){t.tabOn=e},expression:"tabOn"}},[i("TabPane",{attrs:{label:"标签筛选",name:"1"}},[i("div",{staticClass:"item-group"},t._l(t.labelList,(function(e){return i("div",{key:e.id,staticClass:"item"},[i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),i("div",{staticClass:"cell-group"},t._l(e.label,(function(s){return i("span",{key:s.id,staticClass:"cell",class:{on:s.id==e.labelOn},on:{click:function(t){e.labelOn=s.id==e.labelOn?-1:s.id}}},[t._v(t._s(s.label))])})),0)])})),0),i("div",{staticClass:"button-group"},[i("Button",{attrs:{type:"primary",ghost:""},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:t.onFilter}},[t._v("确定")])],1)]),i("TabPane",{attrs:{label:"分组筛选",name:"2"}},[i("div",{staticClass:"item-group"},[i("div",{staticClass:"item"},[i("div",{staticClass:"cell-group"},t._l(t.userGroupList,(function(e){return i("span",{key:e.id,staticClass:"cell",class:{on:e.groupOn},on:{click:function(t){e.groupOn=!e.groupOn}}},[t._v(t._s(e.group_name))])})),0)])]),i("div",{staticClass:"button-group"},[i("Button",{attrs:{type:"primary",ghost:""},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:t.onFilter}},[t._v("确定")])],1)])],1)],1)],1)],1),i("div",{staticClass:"tab-head"},t._l(t.hdTab,(function(e,s){return i("div",{key:s,staticClass:"item",class:{active:e.key==t.hdTabCur},on:{click:function(i){return t.changeTab(e)}}},[t._v(t._s(e.title))])})),0),i("div",{staticClass:"scroll-box"},[t.userList.length>0?i("vue-scroll",{attrs:{ops:t.ops},on:{"handle-scroll":t.handleScroll}},t._l(t.userList,(function(e,s){return i("div",{key:s,staticClass:"chat-item",class:{active:t.curId==e.id},on:{click:function(i){return t.selectUser(e,s)}}},[i("div",{staticClass:"avatar"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],attrs:{alt:""}}),i("div",{staticClass:"status",class:{off:0==e.online}})]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"hd"},[i("span",{staticClass:"name line1"},[t._v(t._s(e.nickname))]),2==e.type?[i("span",{staticClass:"label"},[t._v("小程序")])]:t._e(),3==e.type?[i("span",{staticClass:"label H5"},[t._v("H5")])]:t._e(),1==e.type?[i("span",{staticClass:"label wechat"},[t._v("公众号")])]:t._e(),0==e.type?[i("span",{staticClass:"label pc"},[t._v("PC端")])]:t._e()],2),i("div",{staticClass:"bd line1"},[e.message_type<=2?[t._v(t._s(e.message))]:t._e(),3==e.message_type?[t._v("[图片]")]:t._e(),5==e.message_type?[t._v("[商品]")]:t._e(),6==e.message_type?[t._v("[订单]")]:t._e()],2)]),i("div",{staticClass:"right-box"},[i("div",{staticClass:"time"},[t._v(t._s(t._f("toDay")(e.update_time)))]),i("div",{staticClass:"num"},[i("Badge",{attrs:{count:e.mssage_num}},[i("a",{staticClass:"demo-badge",attrs:{href:"#"}})])],1)])])})),0):i("empty",{attrs:{msg:"暂无用户列表",status:"1"}})],1)])},C=[],k=i("49ea"),w=i("5a0c"),S=i.n(w),x=i("42e3"),$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"empty-wrapper"},[1==t.status?[s("img",{attrs:{src:i("011a"),alt:""}})]:t._e(),2==t.status?[s("img",{attrs:{src:i("4112"),alt:""}})]:t._e(),3==t.status?[s("img",{attrs:{src:i("468b"),alt:""}})]:t._e(),4==t.status?[s("img",{attrs:{src:i("ea87"),alt:""}})]:t._e(),5==t.status?[s("img",{attrs:{src:i("5f70"),alt:""}})]:t._e(),6==t.status?[s("img",{attrs:{src:i("060a"),alt:""}})]:t._e(),s("p",[t._v(t._s(t.msg))])],2)},O=[],L={name:"empty",props:{status:{type:String|Number,default:1},msg:{type:String,default:""}}},I=L,j=(i("d9b7"),Object(v["a"])(I,$,O,!1,null,"9179aa94",null)),M=j.exports,E=(i("90de"),{name:"chatList",props:{userOnline:{type:Object,default:function(){return{}}},newRecored:{type:Object,default:function(){return{}}},searchData:{type:String,default:""},isShow:{type:Boolean,default:!1}},components:{HappyScroll:c["HappyScroll"],empty:M},watch:{userOnline:{handler:function(t,e){var i=this;t.hasOwnProperty("user_id")&&this.userList.forEach((function(e,s){e.to_user_id==t.user_id&&(e.online=t.online,1==t.online&&i.$Notice.info({title:"上线通知",desc:"".concat(e.nickname,"上线")}))}))},deep:!0},searchData:{handler:function(t,e){t!=e&&(this.nickname=t,this.page=1,this.isScroll=!0,this.userList=[],this.isSearch=!0,this.getList())},deep:!0},isShow:{handler:function(t,e){console.log("isShow",t),t&&this.wsStart()},deep:!0}},data:function(){return{hdTabCur:1,hdTab:[{key:1,title:"会话列表"},{key:0,title:"用户列表"}],userList:[],curId:"",page:1,limit:15,isScroll:!0,nickname:"",labelId:"",groupId:"",isSearch:!1,ops:{vuescroll:{mode:"native",enable:!1,tips:{deactive:"Push to Load",active:"Release to Load",start:"Loading...",beforeDeactive:"Load Successfully!"},auto:!1,autoLoadDistance:0,pullRefresh:{enable:!1},pushLoad:{enable:!0,auto:!0,autoLoadDistance:10}},bar:{background:"#393232",opacity:".5",size:"5px"}},visible:!1,labelList:[],userGroupList:[],tabOn:"1"}},filters:{toDay:function(t){return t?S.a.unix(t).format("M月D日 HH:mm"):""}},mounted:function(){var t=this;this.bus.$on("change",(function(e){for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i])})),this.getList(),Object(x["Y"])().then((function(e){e.data.forEach((function(t){t.labelOn=-1})),t.labelList=e.data})),Object(x["W"])().then((function(e){e.data.forEach((function(t){t.groupOn=!1})),t.userGroupList=e.data}))},methods:{onPopperShow:function(){this.labelId="",this.groupId=""},onFilter:function(){var t=this;"1"==this.tabOn?this.labelList.forEach((function(e){-1!=e.labelOn&&(t.labelId+=t.labelId?",".concat(e.labelOn):e.labelOn)})):this.userGroupList.forEach((function(e){e.groupOn&&(t.groupId+=t.groupId?",".concat(e.id):e.id)})),this.nickname="",this.page=1,this.isScroll=!0,this.userList=[],this.isSearch=!0,this.getList(),this.visible=!1},bindSearch:function(t){this.$emit("search",t.target.value)},inputChange:function(t){console.log(t.target.value),this.bus.$emit("change",{nickname:t.target.value})},deleteUserList:function(t){var e=this;this.userList.forEach((function(i,s,n){i.id==t.id&&e.userList.splice(s,1)})),this.userList.length&&this.selectUser(this.userList[0],0)},updateUserList:function(t,e){var i=[];this.userList.map((function(e){i.push(e.id),e.id===t.id&&(e.message=t.message,e._update_time=t._update_time)})),-1===i.indexOf(t.id)&&e&&this.userList.unshift(t)},wsStart:function(){var t=this,e=this;this.bus.pageWs.then((function(i){i.$on("transfer",(function(i){var s=!1;e.userList.forEach((function(e,n,a){if(i.recored.id==e.id){s=!0;var o=i.recored;a.splice(n,1),0==n&&(o.index=n,t.$emit("setDataId",o),o.mssage_num=0),a.unshift(o),t.$Notice.info({title:"您有一条转接消息！"})}})),s||i.recored.is_tourist==t.hdTabCur&&t.userList.unshift(i.recored)})),i.$on("rm_transfer",(function(i){var s=-1;e.userList.forEach((function(t,e){t.id==i.recored.id&&(s=e)})),-1!==s&&(t.userList.splice(s,1),t.userList.length&&t.$emit("setDataId",t.userList[0]))})),i.$on("mssage_num",(function(i){if(i.recored.id){var s=!1;e.userList.forEach((function(t,e,n){if(i.recored.id==t.id){s=!0;var a=i.recored;n.splice(e,1),n.unshift(a)}})),s||i.recored.is_tourist==t.hdTabCur&&t.userList.unshift(i.recored)}i.recored.is_tourist!=t.hdTabCur&&i.recored.id&&t.$Notice.info({title:t.hdTabCur?"用户发来消息啦！":"游客发来消息啦！"})}))}))},changeTab:function(t){this.hdTabCur!=t.key&&(this.hdTabCur=t.key,this.isScroll=!0,this.page=1,this.userList=[],this.$emit("changeType",t.key),this.getList())},getList:function(){var t=this;this.isScroll&&Object(x["F"])({nickname:this.nickname,labelId:this.labelId,groupId:this.groupId,page:this.page,limit:this.limit,is_tourist:1===this.hdTabCur?"":0}).then((function(e){e.data.length>0?(e.data[0].mssage_num=0,t.isScroll=e.data.length>=t.limit,t.userList=t.userList.concat(e.data),1==t.page&&e.data.length>0&&!t.isSearch&&(t.curId=e.data[0].id,e.data[0].index=0,t.$emit("setDataId",e.data[0])),t.page++):t.$emit("setDataId",0)}))},chartReachBottom:function(){this.getList()},selectUser:function(t,e){this.curId!=t.id&&(t.mssage_num=0,this.curId=t.id,t.index=e,this.$emit("setDataId",t))},handleScroll:function(t,e,i){1==t.process&&this.getList()}}}),T=E,D=(i("be4d"),Object(v["a"])(T,_,C,!1,null,"2d6be680",null)),V=D.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"right-wrapper"},[[t.activeUserInfo?i("div",{staticClass:"user-wrapper"},[i("div",{staticClass:"user"},[i("div",{staticClass:"avatar"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.activeUserInfo.avatar,expression:"activeUserInfo.avatar"}],attrs:{alt:""}})]),i("div",{staticClass:"name line1"},[0==t.editUserNameModel?i("span",{on:{click:function(e){t.editUserNameModel=!0}}},[t._v(t._s(t.activeUserInfo.remark_nickname?t.activeUserInfo.remark_nickname:t.activeUserInfo.nickname))]):t._e(),t.editUserNameModel?i("Input",{attrs:{placeholder:"请输入昵称"},on:{"on-blur":function(e){return t.editUserData("editUserNameModel")}},model:{value:t.activeUserInfo.nickname,callback:function(e){t.$set(t.activeUserInfo,"nickname",e)},expression:"activeUserInfo.nickname"}}):t._e()],1),i("div",{staticClass:"label"},[2==t.webType?[i("span",{staticClass:"label routine"},[t._v("小程序")])]:t._e(),3==t.webType?[i("span",{staticClass:"label H5"},[t._v("H5")])]:t._e(),1==t.webType?[i("span",{staticClass:"label wechat"},[t._v("公众号")])]:t._e(),0==t.webType?[i("span",{staticClass:"label pc"},[t._v("PC端")])]:t._e()],2)]),i("div",{staticClass:"user-info"},[i("div",{staticClass:"item"},[i("span",[t._v("电话")]),t.editUserPhoneModel?i("Input",{attrs:{placeholder:"暂无手机号",size:"small"},on:{"on-blur":function(e){return t.editUserData("editUserPhoneModel")}},model:{value:t.activeUserInfo.phone,callback:function(e){t.$set(t.activeUserInfo,"phone",e)},expression:"activeUserInfo.phone"}}):i("span",{on:{click:function(e){t.editUserPhoneModel=!0}}},[t._v(t._s(t.activeUserInfo.phone||"暂无"))])],1),i("div",{staticClass:"label-list",on:{click:function(e){t.isUserGroup=!0}}},[i("span",[t._v("分组")]),i("div",{staticClass:"con"},[t.activeUserInfo.group_id?i("div",{staticClass:"label-item"},[t._v(t._s(t.userGroupList.find((function(e){return e.id==t.copyGroupId})).group_name))]):t._e()]),i("div",{staticClass:"right-icon"},[i("Icon",{attrs:{type:"ios-arrow-forward",size:"14"}})],1)]),i("div",{staticClass:"label-list",on:{click:function(e){e.stopPropagation(),t.isUserLabel=!0}}},[i("span",[t._v("标签")]),i("div",{staticClass:"con"},t._l(t.activeUserInfo.label,(function(e){return i("div",{staticClass:"label-item"},[t._v(t._s(e.label))])})),0),i("div",{staticClass:"right-icon"},[i("Icon",{attrs:{type:"ios-arrow-forward",size:"14"}})],1)]),i("div",{staticClass:"label-list",on:{click:function(e){e.stopPropagation(),t.isEditRemark=!0,t.remarkValue=t.activeUserInfo.remarks}}},[i("span",[t._v("备注")]),i("div",{staticClass:"con"},[i("div",{},[t._v(t._s(t.activeUserInfo.remarks))])]),i("div",{staticClass:"right-icon"},[i("Icon",{attrs:{type:"ios-arrow-forward",size:"14"}})],1)])])]):i("empty",{attrs:{status:"2",msg:"暂无用户信息"}})],i("Modal",{attrs:{title:"订单发送货","footer-hide":!0},model:{value:t.isDelivery,callback:function(e){t.isDelivery=e},expression:"isDelivery"}},[t.isDelivery?i("delivery",{attrs:{orderId:t.orderId},on:{close:t.deliveryClose,ok:t.deliveryOk}}):t._e()],1),i("Modal",{staticClass:"none-radius",attrs:{title:"请修改内容","footer-hide":!0,mask:!0,width:"520",closable:!1},model:{value:t.isRemarks,callback:function(e){t.isRemarks=e},expression:"isRemarks"}},[t.isRemarks?i("remarks",{attrs:{remarkId:t.remarkId},on:{close:t.deliveryClose,remarkSuccess:t.remarkSuccess}}):t._e()],1),i("Modal",{staticClass:"label-box",attrs:{"footer-hide":!0,width:"320",closable:!1,mask:!0},model:{value:t.isUserLabel,callback:function(e){t.isUserLabel=e},expression:"isUserLabel"}},[i("p",{staticClass:"label-head",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("选择用户标签")])]),t.isUserLabel?i("userLabel",{attrs:{uid:t.uid},on:{close:t.deliveryClose,editLabel:t.editLabel}}):t._e()],1),i("Modal",{staticClass:"label-box",attrs:{"footer-hide":!0,width:"320",closable:!1,mask:!0},model:{value:t.isUserGroup,callback:function(e){t.isUserGroup=e},expression:"isUserGroup"}},[i("p",{staticClass:"label-head",attrs:{slot:"header"},slot:"header"},[i("span",[t._v("选择用户分组")])]),t.isUserGroup?i("user-group",{attrs:{userGroup:t.userGroupList,activeUserInfo:t.activeUserInfo},on:{close:t.usergroupClose,selectGroup:t.selectGroup,handleSelectGroup:t.handleSelectGroup}}):t._e()],1),i("Modal",{staticClass:"none-radius",attrs:{title:"请输入用户备注",width:"320"},model:{value:t.isEditRemark,callback:function(e){t.isEditRemark=e},expression:"isEditRemark"}},[i("Input",{attrs:{placeholder:"请输入备注"},model:{value:t.remarkValue,callback:function(e){t.remarkValue=e},expression:"remarkValue"}}),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{on:{click:function(e){t.isEditRemark=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:t.handlyEditRemark}},[t._v("确定")])],1)],1)],2)},P=[],U=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleInline,inline:""}},[i("FormItem",{staticClass:"form-item",attrs:{label:"选择类型：","label-position":"right","label-width":100}},[i("RadioGroup",{model:{value:t.formValidate.gender,callback:function(e){t.$set(t.formValidate,"gender",e)},expression:"formValidate.gender"}},t._l(t.radioList,(function(e,s){return i("Radio",{key:s,attrs:{label:e.key}},[t._v(t._s(e.title))])})),1)],1),1==t.formValidate.gender?i("FormItem",{key:"test0",staticClass:"form-item",attrs:{label:"发货类型：","label-position":"right","label-width":100}},[i("RadioGroup",{model:{value:t.formValidate.shipStatus,callback:function(e){t.$set(t.formValidate,"shipStatus",e)},expression:"formValidate.shipStatus"}},t._l(t.shipType,(function(e,s){return i("Radio",{key:s,attrs:{label:e.key}},[t._v(t._s(e.title))])})),1)],1):t._e(),1==t.formValidate.gender&&1==t.formValidate.shipStatus?i("div",{key:"test1"},[i("FormItem",{staticClass:"form-item",attrs:{label:"快递公司：",prop:"logisticsCode","label-position":"right","label-width":100}},[i("Select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择","label-in-value":!0},on:{"on-change":t.bindChange},model:{value:t.formValidate.logisticsCode,callback:function(e){t.$set(t.formValidate,"logisticsCode",e)},expression:"formValidate.logisticsCode"}},t._l(t.logisticsList,(function(e,s){return i("Option",{key:s,attrs:{value:e.code}},[t._v(t._s(e.value))])})),1)],1),i("FormItem",{staticClass:"form-item",attrs:{label:"快递单号：",prop:"number","label-position":"right","label-width":100}},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入快递单号"},model:{value:t.formValidate.number,callback:function(e){t.$set(t.formValidate,"number",e)},expression:"formValidate.number"}})],1),i("FormItem",{staticClass:"form-item",attrs:{label:"","label-position":"right","label-width":100}},[i("div",{staticStyle:{color:"#c4c4c4"}},[t._v("顺丰请输入单号：收件人或寄件人手机号后四位,")]),i("div",{staticStyle:{color:"#c4c4c4"}},[t._v("例如：SF000000000000:3941")])])],1):t._e(),1==t.formValidate.gender&&2==t.formValidate.shipStatus?i("div",{key:"test2"},[i("FormItem",{staticClass:"form-item",attrs:{label:"快递公司：",prop:"logisticsCode","label-position":"right","label-width":100}},[i("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择",filterable:"","label-in-value":!0},on:{"on-change":t.bindChange},model:{value:t.formValidate.logisticsCode,callback:function(e){t.$set(t.formValidate,"logisticsCode",e)},expression:"formValidate.logisticsCode"}},t._l(t.logisticsList,(function(e,s){return i("Option",{key:s,attrs:{value:e.code}},[t._v(t._s(e.value))])})),1)],1),t.orderTempList.length>0?i("FormItem",{staticClass:"form-item",attrs:{label:"电子面单：","label-position":"right","label-width":100}},[i("Select",{staticStyle:{width:"80%"},attrs:{placeholder:"请选择电子面单"},model:{value:t.formValidate.electronic,callback:function(e){t.$set(t.formValidate,"electronic",e)},expression:"formValidate.electronic"}},t._l(t.orderTempList,(function(e,s){return i("Option",{key:s,attrs:{value:e.temp_id}},[t._v(t._s(e.title))])})),1),i("Button",{staticStyle:{flex:"1","margin-left":"21px"},on:{click:t.lookImg}},[t._v("预览")]),i("viewer",{ref:"viewer",staticClass:"viewer",staticStyle:{display:"none"},attrs:{images:t.orderTempList},on:{inited:t.inited}},t._l(t.orderTempList,(function(t){return i("img",{key:t.id,staticClass:"image",attrs:{src:t.pic}})})),0)],1):t._e(),i("FormItem",{staticClass:"form-item",attrs:{label:"寄件人姓名：",prop:"sendName","label-position":"right","label-width":100}},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入寄件人姓名"},model:{value:t.formValidate.sendName,callback:function(e){t.$set(t.formValidate,"sendName",e)},expression:"formValidate.sendName"}})],1),i("FormItem",{staticClass:"form-item",attrs:{label:"寄件人电话：",prop:"sendPhone","label-position":"right","label-width":100}},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入寄件人电话"},model:{value:t.formValidate.sendPhone,callback:function(e){t.$set(t.formValidate,"sendPhone",e)},expression:"formValidate.sendPhone"}})],1),i("FormItem",{staticClass:"form-item",attrs:{label:"寄件人地址：",prop:"sendAddress","label-position":"right","label-width":100}},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入寄件人地址"},model:{value:t.formValidate.sendAddress,callback:function(e){t.$set(t.formValidate,"sendAddress",e)},expression:"formValidate.sendAddress"}})],1)],1):t._e(),2==t.formValidate.gender?i("div",{key:"test3"},[i("FormItem",{staticClass:"form-item",attrs:{label:"选择送货人：","label-position":"right","label-width":100}},[i("Select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择送货人"},model:{value:t.formValidate.postPeople,callback:function(e){t.$set(t.formValidate,"postPeople",e)},expression:"formValidate.postPeople"}},t._l(t.deliveryList,(function(e,s){return i("Option",{key:s,attrs:{value:e.id}},[t._v(t._s(e.nickname))])})),1)],1)],1):t._e(),3==t.formValidate.gender?i("div",[i("FormItem",{staticClass:"form-item",attrs:{label:"备注：",props:"msg","label-position":"right","label-width":100}},[i("Input",{attrs:{placeholder:"备注"},model:{value:t.formValidate.msg,callback:function(e){t.$set(t.formValidate,"msg",e)},expression:"formValidate.msg"}})],1)],1):t._e(),i("div",{staticClass:"mask-footer"},[i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交")]),i("Button",{on:{click:t.close}},[t._v("取消")])],1)],1)],1)},A=[],H={name:"delivery",props:{isShow:{type:Boolean,default:!1},orderId:{type:String|Number,default:""}},watch:{"formValidate.shipStatus":{handler:function(t,e){var i=this;2!=t||this.formValidate.sendName||Object(x["p"])().then((function(t){i.formValidate.sendName=t.data.to_name,i.formValidate.sendPhone=t.data.to_tel,i.formValidate.sendAddress=t.data.to_add})),this.$refs["formValidate"].resetFields()},deep:!0},"formValidate.gender":{handler:function(t,e){this.$refs["formValidate"].resetFields()},deep:!0}},data:function(){return{shipType:[{key:1,title:"手动填写"},{key:2,title:"电子面单打印"}],radioList:[{key:1,title:"发货"},{key:2,title:"送货"},{key:3,title:"虚拟"}],ruleInline:{logisticsCode:[{required:!0,message:"请选择快递公司",trigger:"change"}],number:[{required:!0,message:"请填写快递单号",trigger:"change"}],sendName:[{required:!0,message:"请填写寄件人姓名",trigger:"change"}],sendPhone:[{required:!0,message:"请填写寄件人手机",trigger:"change"},{pattern:/^1[3456789]\d{9}$/,message:"手机号码格式不正确",trigger:"blur"}],sendAddress:[{required:!0,message:"请填写寄件人地址",trigger:"change"}],msg:[{required:!0,message:"请填写备注信息",trigger:"change"}]},formValidate:{gender:1,shipStatus:1,logisticsCode:"",logisticsName:"",number:"",electronic:"",sendName:"",sendPhone:"",sendAddress:"",postPeople:"",msg:""},logisticsList:[],orderTempList:[],deliveryList:[]}},mounted:function(){this.getOrderExport(),this.getDelivery()},methods:{getDelivery:function(){var t=this;Object(x["u"])().then((function(e){t.deliveryList=e.data}))},inited:function(t){this.$viewer=t},getOrderExport:function(){var t=this;Object(x["w"])().then((function(e){t.logisticsList=e.data}))},handleSubmit:function(t){var e=this;if(1==this.formValidate.gender&&this.$refs[t].validate((function(t){var i={};i.type=e.formValidate.gender,i.express_record_type=parseFloat(e.formValidate.shipStatus),i.delivery_name=e.formValidate.logisticsName,i.delivery_code=e.formValidate.logisticsCode,t&&(1==e.formValidate.gender&&1==e.formValidate.shipStatus&&(i.delivery_id=e.formValidate.number),1==e.formValidate.gender&&2==e.formValidate.shipStatus&&(i.to_name=e.formValidate.sendName,i.to_tel=e.formValidate.sendPhone,i.to_addr=e.formValidate.sendAddress,i.express_temp_id=e.formValidate.electronic),Object(x["t"])(e.orderId,i).then((function(t){e.$Message.success(t.msg),e.$emit("ok")})).catch((function(t){e.$Message.error(t.msg)})))})),2==this.formValidate.gender){var i={};this.deliveryList.forEach((function(t,s){t.id==e.formValidate.postPeople&&(i=t)})),Object(x["t"])(this.orderId,{type:this.formValidate.gender,sh_delivery_name:i.wx_name,sh_delivery_id:i.phone,sh_delivery_uid:i.id}).then((function(t){e.$Message.success(t.msg),e.$emit("ok")})).catch((function(t){e.$Message.error(t.msg)}))}3==this.formValidate.gender&&Object(x["t"])(this.orderId,{type:this.formValidate.gender,remark:this.formValidate.msg}).then((function(t){e.$Message.success(t.msg),e.$emit("ok")})).catch((function(t){e.$Message.error(t.msg)}))},close:function(){this.$emit("close")},bindChange:function(t){var e=this;console.log(t),this.formValidate.logisticsName=t.label,2==this.formValidate.shipStatus&&Object(x["z"])({com:t.value}).then((function(t){e.orderTempList=t.data.data}))},lookImg:function(){var t=this;this.formValidate.electronic?this.orderTempList.forEach((function(e,i){e.temp_id==t.formValidate.electronic&&t.$viewer.view(i)})):this.$Message.error("请选择电子面单")}}},N=H,B=(i("402b"),Object(v["a"])(N,U,A,!1,null,"5a80f572",null)),R=B.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleInline,inline:""}},[i("FormItem",{staticClass:"form-item",attrs:{label:"备注：",prop:"con","label-position":"right","label-width":100}},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入备注",maxlength:"200",type:"textarea",rows:5,"show-word-limit":""},model:{value:t.formValidate.con,callback:function(e){t.$set(t.formValidate,"con",e)},expression:"formValidate.con"}})],1),i("div",{staticClass:"mask-footer"},[i("Button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("提交")]),i("Button",{on:{click:t.close}},[t._v("取消")])],1)],1)],1)},G=[],F={name:"remarks",props:{remarkId:{type:String,default:""}},data:function(){return Object(o["a"])({formValidate:{con:""},ruleInline:{con:[{required:!0,message:"请输入备注信息",trigger:"change"}]}},"formValidate",{con:""})},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate((function(t){t&&Object(x["y"])({order_id:e.remarkId,remark:e.formValidate.con}).then((function(t){e.$Message.success(t.msg),e.$emit("remarkSuccess")})).catch((function(t){e.$Message.error(t.msg)}))}))},close:function(){this.$emit("close")}}},Y=F,X=(i("c1c2"),Object(v["a"])(Y,W,G,!1,null,"6aa2f7ac",null)),q=X.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-wrapper"},[t._l(t.labelList,(function(e,s){return i("div",{key:s,staticClass:"label-box"},[i("div",{staticClass:"title"},[t._v(t._s(e.name))]),i("div",{staticClass:"list"},t._l(e.label,(function(e,s){return i("div",{key:s,staticClass:"label-item",class:{on:e.disabled},on:{click:function(i){return t.selectLabel(e)}}},[t._v(t._s(e.label))])})),0)])})),i("div",{staticClass:"footer"},[i("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")]),i("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)],2)},K=[],Z={name:"userLabel",props:{uid:{type:String|Number,default:""}},data:function(){return{labelList:[],activeIds:[]}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;Object(x["Y"])(this.uid).then((function(e){e.data.map((function(e){e.label.map((function(e){e.disabled&&t.activeIds.push(e.id)}))})),t.labelList=e.data}))},selectLabel:function(t){if(t.disabled){var e=this.activeIds.indexOf(t.id);this.activeIds.splice(e,1),t.disabled=!1}else this.activeIds.push(t.id),t.disabled=!0},subBtn:function(){var t=this,e=[];this.labelList.map((function(t){t.label.map((function(t){0==t.disabled&&e.push(t.id)}))})),Object(x["Z"])(this.uid,{label_ids:this.activeIds,un_label_ids:e}).then((function(e){t.$Message.success(e.msg),t.$emit("editLabel")})).catch((function(e){t.$Message.error(e.msg)}))},cancel:function(){this.$emit("close")}}},Q=Z,tt=(i("4152"),Object(v["a"])(Q,J,K,!1,null,"4461ec84",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"label-wrapper"},[i("div",{staticClass:"label-box"},[i("div",{staticClass:"title"}),i("div",{staticClass:"list"},t._l(t.userGroup,(function(e,s){return i("div",{key:s,staticClass:"label-item",class:{on:t.activeUserInfo.group_id==e.id},on:{click:function(i){return t.selectLabel(e)}}},[t._v(t._s(e.group_name))])})),0)]),i("div",{staticClass:"footer"},[i("Button",{staticClass:"btns",attrs:{type:"primary",ghost:""},on:{click:t.cancel}},[t._v("取消")]),i("Button",{staticClass:"btns",attrs:{type:"primary"},on:{click:t.subBtn}},[t._v("确定")])],1)])},st=[],nt={name:"userLabel",props:{activeUserInfo:{type:Object,default:function(){return{}}},userGroup:{type:Array,default:function(){return[]}}},data:function(){return{}},watch:{},mounted:function(){},methods:{selectLabel:function(t){this.$emit("selectGroup",t)},subBtn:function(){this.$emit("handleSelectGroup")},cancel:function(){this.$emit("close")}}},at=nt,ot=(i("b116"),Object(v["a"])(at,it,st,!1,null,"c5cc3de8",null)),rt=ot.exports;function ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function lt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ct(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var dt={name:"rightMenu",components:{delivery:R,remarks:q,userLabel:et,empty:M,userGroup:rt},props:{isTourist:{type:String|Number,default:0},status:{type:String|Number,default:""},uid:{type:String|Number,default:""},webType:{type:String|Number,default:""}},filters:{statusFilters:function(t){var e=Object(o["a"])({"-1":"申请退款","-2":"退货成功",0:"待发货",1:"待收货",2:"已收货",3:"待评价"},"-1","已退款");return e[t]},getDay:function(t){if(t)return S.a.unix(t).format("YYYY年M月D日")},typeFilters:function(t){var e={h5:"H5",wechat:"公众号",routine:"小程序",pc:"PC"};return e[t]}},data:function(){return{editUserNameModel:!1,editUserPhoneModel:!1,copyGroupId:"",isEditRemark:!1,remarkValue:"",isUserGroup:!1,userGroupList:[],model1:"",curMenuIndex:0,menuList:[{key:"",title:"全部"},{key:0,title:"未支付"},{key:1,title:"未发货"},{key:-1,title:"退款中"}],activeUserInfo:"",limit:10,orderConfig:{page:1,type:"",searchTxt:""},orderList:[],isOrderScroll:!0,isOrderHidden:!0,isDelivery:!1,isRemarks:!1,goodsTab:[{key:0,title:"购买"},{key:1,title:"足迹"},{key:2,title:"热销"}],isGoodsScroll:!0,page:1,goodsConfig:{type:0,buyList:[]},isUserLabel:!1,remarkId:"",orderId:"",storeName:""}},watch:{uid:function(t,e){t!=e&&(this.orderConfig.page=1,this.isOrderScroll=!0,this.orderList=[],this.page=1,this.isGoodsScroll=!0,this.goodsConfig.buyList=[],this.getUserInfo())}},mounted:function(){var t=this;this.uid&&this.getUserInfo(),Object(x["W"])().then((function(e){t.userGroupList=e.data}))},methods:{handlyEditRemark:function(){var t=this;console.log(this.activeUserInfo),this.remarkValue?Object(x["V"])(this.activeUserInfo.id,{remarks:this.remarkValue}).then((function(e){t.$Message.success("修改成功"),t.getUserInfo(),t.remarkValue="",t.isEditRemark=!1})):this.$Message.error("请填写用户备注")},usergroupClose:function(){this.activeUserInfo.group_id=this.copyGroupId,this.isUserGroup=!1},selectGroup:function(t){this.copyGroupId=JSON.stringify(JSON.parse(this.activeUserInfo.group_id)),this.activeUserInfo.group_id=t.id},handleSelectGroup:function(){var t=this;this.copyGroupId=JSON.stringify(JSON.parse(this.activeUserInfo.group_id)),Object(x["E"])(this.uid,this.activeUserInfo.group_id).then((function(e){t.$Message.success(e.msg),setTimeout((function(){t.isUserGroup=!1}),500)})).catch((function(e){t.$Message.error(e.msg)}))},onChange:function(t){var e=this;t&&Object(x["E"])(this.uid,t).then((function(t){e.$Message.success(t.msg)})).catch((function(t){console.log(t),e.$Message.error(t.msg)}))},openDelivery:function(t){this.orderId=t.id,this.isDelivery=!0},deliveryOk:function(){this.orderConfig.page=1,this.isOrderScroll=!0,this.orderList=[],this.getOrderList(),this.isDelivery=!1},bindRemark:function(t){this.remarkId=t.order_id,this.isRemarks=!0},remarkSuccess:function(){this.remarkId="",this.isRemarks=!1},getUserInfo:function(){var t=this;Object(x["X"])(this.uid).then((function(e){t.activeUserInfo=e.data,t.copyGroupId=t.activeUserInfo.group_id})).catch((function(e){t.activeUserInfo=""}))},getOrderList:function(){var t=this;this.isOrderScroll&&Object(x["q"])(this.uid,{page:this.orderConfig.page,limit:this.limit,type:this.orderConfig.type,search:this.orderConfig.searchTxt}).then((function(e){t.orderConfig.page+=1,t.isOrderScroll=e.data.length>=t.limit,t.orderList=t.orderList.concat(e.data)}))},bindTab:function(t){this.orderConfig.type!==t.key&&(this.orderConfig.type=t.key,this.uid&&(this.orderConfig.page=1,this.isOrderScroll=!0,this.orderList=[],this.getOrderList()))},orderSearch:function(){this.isOrderScroll=!0,this.orderList=[],this.orderConfig.page=1,this.getOrderList()},deliveryClose:function(){this.isUserLabel=!1,this.isDelivery=!1,this.isRemarks=!1},orderEdit:function(t){var e=this;this.$modalForm(Object(x["v"])(t)).then((function(){return e.getOrderList()}))},orderRecord:function(t){var e=this;this.$modalForm(Object(x["x"])(t)).then((function(){return e.getOrderList()}))},orderReachBottom:function(){this.getOrderList()},goodsReachBottom:function(){0==this.goodsConfig.type?this.productCart():1==this.goodsConfig.type?this.productVisit():this.productHot()},bindGoodsTab:function(t){this.goodsConfig.type!=t.key&&(this.goodsConfig.type=t.key,this.page=1,this.isGoodsScroll=!0,this.goodsConfig.buyList=[],0==t.key?this.productCart():1==t.key?this.productVisit():this.productHot())},productCart:function(){var t=this;this.isGoodsScroll&&Object(x["productCart"])(this.uid,{store_name:this.storeName,page:this.page,limit:this.limit}).then((function(e){t.page+=1,t.isGoodsScroll=e.data.length>=t.limit,t.goodsConfig.buyList=t.goodsConfig.buyList.concat(e.data)}))},productVisit:function(){var t=this;this.isGoodsScroll&&Object(x["D"])(this.uid,{store_name:this.storeName,page:this.page,limit:this.limit}).then((function(e){t.page+=1,t.isGoodsScroll=e.data.length>=t.limit,t.goodsConfig.buyList=t.goodsConfig.buyList.concat(e.data)}))},productHot:function(){var t=this;Object(x["C"])(this.uid,{store_name:this.storeName,page:this.page,limit:this.limit}).then((function(e){t.page+=1,t.isGoodsScroll=e.data.length>=t.limit,t.goodsConfig.buyList=t.goodsConfig.buyList.concat(e.data)}))},editLabel:function(){this.isUserLabel=!1,this.getUserInfo()},pushGoods:function(t){this.$emit("bindPush",t.id)},productSearch:function(){this.page=1,this.isGoodsScroll=!0,this.goodsConfig.buyList=[],0==this.goodsConfig.type?this.productCart():1==this.goodsConfig.type?this.productVisit():this.productHot()},editUserData:function(t){var e=this;this.putUserData((function(){e[t]=!1}))},putUserData:function(t){var e=this;Object(x["V"])(this.activeUserInfo.id,lt(lt({},this.activeUserInfo),{},{remark_nickname:this.activeUserInfo.nickname})).then((function(i){e.$Message.success("修改成功"),e.getUserInfo(),e.remarkValue="",e.isEditRemark=!1,t()}))}}},ut=dt,ht=(i("33f0"),Object(v["a"])(ut,z,P,!1,null,"18c72164",null)),ft=ht.exports,mt=i("7624"),pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"msg-box"},[i("div",{staticClass:"head"},[i("div",{staticClass:"tab-bar"},t._l(t.tabList,(function(e,s){return i("a",{key:s,staticClass:"tab-item",class:{on:e.key==t.tabCur},attrs:{href:"javascript:;"},on:{click:function(i){return t.bindTab(e)}}},[t._v(t._s(e.title))])})),0),i("div",{staticClass:"search-box"},[i("Input",{staticStyle:{width:"100%"},attrs:{placeholder:"搜索快捷回复"},on:{"on-enter":t.bindSearch},model:{value:t.searchTxt,callback:function(e){t.searchTxt=e},expression:"searchTxt"}},[i("Icon",{attrs:{slot:"suffix",type:"ios-search"},slot:"suffix"})],1)],1)]),i("div",{staticClass:"main"},[i("div",{staticClass:"left-box"},[i("vue-scroll",{attrs:{ops:t.ops}},[t.tabCur?i("div",{staticClass:"left-item"},[i("p",[t._v("分组")]),i("span",{staticClass:"iconfont iconaddto",on:{click:t.openAddSort}})]):t._e(),t._l(t.sortList,(function(e,s){return i("div",{key:s,staticClass:"left-item",class:{on:t.cateId==e.id},on:{click:function(i){return t.selectSort(e)}}},[i("p",[t._v(t._s(e.name))]),t.tabCur?[i("span",{staticClass:"iconfont iconDot",on:{click:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"top",void 0,i.key,void 0)?null:t.bindEdit(e,s)}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"item.isEdit"}],staticClass:"edit-wrapper"},[i("div",{staticClass:"edit-item",on:{click:function(i){return t.editSort(e)}}},[t._v("编辑")]),i("div",{staticClass:"edit-item",on:{click:function(i){return t.delSort(e,"删除分类",s)}}},[t._v("删除")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isEdit,expression:"item.isEdit"}],staticClass:"edit-bg",on:{click:function(t){t.stopPropagation(),e.isEdit=!1}}})]:t._e()],2)}))],2)],1),i("div",{staticClass:"right-box"},[i("Scroll",{staticClass:"right-scroll",attrs:{"on-reach-bottom":t.handleReachBottom,height:"360"}},[t.tabCur?i("div",{staticClass:"msg-item add-box",staticStyle:{"margin-top":"0"}},[i("div",{staticClass:"box2"},[i("Input",{staticClass:"input-box",staticStyle:{width:"100%"},attrs:{placeholder:"输入标题（选填）"},on:{"on-focus":t.bindFocus},model:{value:t.addMsg.title,callback:function(e){t.$set(t.addMsg,"title",e)},expression:"addMsg.title"}}),i("div",{staticClass:"conBox",class:{active:t.addMsg.isEdit}},[i("div",{staticClass:"content"},[i("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.addMsg.message,callback:function(e){t.$set(t.addMsg,"message",e)},expression:"addMsg.message"}})],1),i("div",{staticClass:"bom"},[i("div",{staticClass:"select"},[i("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.addMsg.cateId,callback:function(e){t.$set(t.addMsg,"cateId",e)},expression:"addMsg.cateId"}},t._l(t.sortList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])})),1)],1),i("div",{staticClass:"btns-box"},[i("Button",{on:{click:function(e){e.stopPropagation(),t.addMsg.isEdit=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.bindAdd(e)}}},[t._v("保存")])],1)])])],1)]):t._e(),t._l(t.list,(function(e,s){return e.id?i("div",{key:s,staticClass:"msg-item"},[e.isEdit?i("div",{staticClass:"box2"},[i("Input",{staticClass:"input-box",staticStyle:{width:"100%"},attrs:{placeholder:"输入标题（选填）"},model:{value:e.title,callback:function(i){t.$set(e,"title",i)},expression:"item.title"}}),i("div",{staticClass:"content"},[i("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.message,callback:function(i){t.$set(e,"message",i)},expression:"item.message"}})],1),i("div",{staticClass:"bom"},[i("div",{staticClass:"select"},[i("Select",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.cateId,callback:function(e){t.cateId=e},expression:"cateId"}},t._l(t.sortList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name)+"\n                  ")])})),1)],1),i("div",{staticClass:"btns-box"},[i("Button",{on:{click:function(t){t.stopPropagation(),e.isEdit=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:function(i){return i.stopPropagation(),t.updataMsg(e)}}},[t._v("保存")])],1)])],1):i("div",{staticClass:"box1"},[i("div",{staticClass:"txt-box",on:{click:function(i){return t.bindRadio(e)}}},[e.title?i("span",{staticClass:"title"},[t._v(t._s(t._f("filtersTitle")(e.title)))]):t._e(),e.message?i("span",[t._v(t._s(t._f("filtersCon")(e.message)))]):t._e()]),t.tabCur?i("div",{staticClass:"edit-box"},[i("span",{staticClass:"iconfont iconbianji",on:{click:function(i){return i.stopPropagation(),t.editMsg(e)}}}),i("span",{staticClass:"iconfont iconshanchu",on:{click:function(i){return i.stopPropagation(),t.delMsg(e,"删除话术",s)}}})]):t._e()])]):t._e()}))],2)],1)]),i("Modal",{staticClass:"class-box",attrs:{title:t.maskTitle,width:"304",mask:!1,"footer-hide":!0},model:{value:t.isAddSort,callback:function(e){t.isAddSort=e},expression:"isAddSort"}},[i("div",{staticClass:"item"},[i("span",[t._v("分组名称：")]),i("Input",{attrs:{placeholder:"分组名称"},model:{value:t.classTitle,callback:function(e){t.classTitle=e},expression:"classTitle"}})],1),i("div",{staticClass:"item"},[i("span",[t._v("分组排序：")]),i("Input",{attrs:{placeholder:"输入排序"},model:{value:t.classSort,callback:function(e){t.classSort=e},expression:"classSort"}})],1),i("div",{staticClass:"btn"},[i("Button",{staticStyle:{background:"#1890FF",width:"100%"},attrs:{type:"primary"},on:{click:t.addServiceCate}},[t._v("确定")])],1)])],1)},gt=[],vt=(i("55dd"),{name:"msgWindow",data:function(){return{ops:{vuescroll:{mode:"native",enable:!1,tips:{deactive:"Push to Load",active:"Release to Load",start:"Loading...",beforeDeactive:"Load Successfully!"},auto:!1,autoLoadDistance:0,pullRefresh:{enable:!1},pushLoad:{enable:!1,auto:!0,autoLoadDistance:10}},bar:{background:"#393232",opacity:".5",size:"2px"}},isScroll:!0,page:1,limit:10,tabCur:1,tabList:[{title:"个人库",key:1},{title:"公共库",key:0}],searchTxt:"",list:[{isEdit:!1}],model1:"",msgTitle:"",sortList:[],cateId:"",addMsg:{title:"",message:"",cateId:"",isEdit:!1},isAddSort:!1,classTitle:"",classSort:"",maskTitle:"",editObj:{}}},filters:{filtersTitle:function(t){var e=37;if(t.length>e){var i=t.substring(0,e);return"".concat(i,"...")}return t},filtersCon:function(t){var e=113;if(t.length>e){var i=t.substring(0,e);return"".concat(i,"...")}return t}},mounted:function(){this.serviceCate(),this.$nextTick((function(){}))},methods:{editMsg:function(t){t.isEdit=!0,this.cateId=t.cate_id},bindEdit:function(t,e){0!=e&&(t.isEdit=!t.isEdit)},bindTab:function(t){this.tabCur=t.key,this.cateId="",this.sortList=[],this.isScroll=!0,this.page=1,this.list=[],this.serviceCate()},bindSearch:function(){this.isScroll=!0,this.page=1,this.list=[],this.getList()},selectSort:function(t){this.cateId!=t.id&&(this.sortList.forEach((function(e,i){e.id!=t.id&&(e.isEdit=!1)})),this.cateId=t.id,this.addMsg.cateId=this.cateId,this.isScroll=!0,this.page=1,this.list=[],this.getList())},delSort:function(t,e,i){var s=this,n={title:e,num:i,url:"/service/cate/".concat(t.id),method:"DELETE",ids:"",kefu:!0};this.$modalSure(n).then((function(t){s.$Message.success(t.msg),s.isScroll=!0,s.page=1,s.list=[],s.cateId="",s.serviceCate()})).catch((function(t){s.$Message.error(t.msg)}))},serviceCate:function(){var t=this;Object(x["K"])({type:this.tabCur}).then((function(e){e.data.data.forEach((function(t,e){t.isEdit=!1})),t.sortList=e.data.data,""===t.cateId&&e.data.data.length&&(t.cateId=e.data.data[0].id),t.getList()}))},getList:function(){var t=this;this.isScroll&&Object(x["S"])({page:this.page,limit:this.limit,title:this.searchTxt,cate_id:this.cateId,type:this.tabCur}).then((function(e){t.isScroll=e.data.length>=t.limit,e.data.forEach((function(t,e){t.isEdit=!1})),t.page++,t.list=t.list.concat(e.data)}))},updataMsg:function(t){var e=this;Object(x["L"])(t.id,{title:t.title,cate_id:this.cateId,message:t.message}).then((function(i){e.$Message.success("修改成功"),t.isEdit=!1})).catch((function(i){e.$Message.error(i.msg),t.isEdit=!0}))},bindFocus:function(){this.list.forEach((function(t,e){t.isEdit=!1})),this.addMsg.cateId=this.cateId,this.addMsg.isEdit=!0},openAddSort:function(){this.isAddSort=!0,this.maskTitle="添加分组",this.editObj.id=0},bindAdd:function(){var t=this;Object(x["d"])({title:this.addMsg.title,cate_id:this.addMsg.cateId,message:this.addMsg.message}).then((function(e){t.addMsg.title="",t.addMsg.message="",t.addMsg.cateId="",t.addMsg.isEdit=!1,t.$Message.success(e.msg),e.data.isEdit=!1,t.page=1,t.list=[],t.isScroll=!0,t.serviceCate()})).catch((function(e){t.$Message.error(e.msg)}))},delMsg:function(t,e,i,s){var n=this,a={title:e,num:i,url:"service/speechcraft/".concat(t.id),method:"DELETE",ids:"",kefu:!0};this.$modalSure(a).then((function(t){n.$Message.success(t.msg),n.list.splice(i,1)})).catch((function(t){n.$Message.error(t.msg)}))},addServiceCate:function(){var t=this;this.editObj.id?Object(x["h"])(this.editObj.id,{name:this.classTitle,sort:this.classSort}).then((function(e){t.classTitle="",t.classSort="",t.$Message.success(e.msg),t.isAddSort=!1,t.page=1,t.list=[],t.isScroll=!0,t.serviceCate()})).catch((function(e){t.classTitle="",t.classSort="",t.$Message.error(res.msg)})):Object(x["c"])({name:this.classTitle,sort:this.classSort}).then((function(e){t.classTitle="",t.classSort="",t.$Message.success(e.msg),t.isAddSort=!1,t.page=1,t.list=[],t.isScroll=!0,t.serviceCate()})).catch((function(e){t.classTitle="",t.classSort="",t.$Message.error(res.msg)}))},editSort:function(t){this.classSort=t.sort,this.classTitle=t.name,this.isAddSort=!0,this.maskTitle="编辑分组",this.editObj=t},handleReachBottom:function(){this.getList()},bindRadio:function(t){this.$emit("activeTxt",t.message)}}}),bt=vt,yt=(i("6107"),i("6db9"),Object(v["a"])(bt,pt,gt,!1,null,"4b07a2a4",null)),_t=yt.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"msg-box"},[i("div",{staticClass:"head"},[i("div",{staticClass:"search-box"},[i("div",{staticClass:"caption"},[i("div",[t._v("自动回复开关:")]),i("div",{staticClass:"switch"},[i("i-switch",{on:{"on-change":t.changeSwitch},model:{value:t.authReply,callback:function(e){t.authReply=e},expression:"authReply"}})],1)])])]),i("div",{staticClass:"main"},[i("div",{staticClass:"right-box"},[i("Scroll",{staticClass:"right-scroll",attrs:{"on-reach-bottom":t.handleReachBottom,height:"360"}},[t.tabCur?i("div",{staticClass:"msg-item add-box",staticStyle:{"margin-top":"0"}},[i("div",{staticClass:"box2"},[i("Input",{staticClass:"input-box",staticStyle:{width:"100%"},attrs:{placeholder:"输入关键字,多个关键字用逗号隔开"},on:{"on-focus":t.bindFocus},model:{value:t.addMsg.keyword,callback:function(e){t.$set(t.addMsg,"keyword",e)},expression:"addMsg.keyword"}}),i("div",{staticClass:"conBox",class:{active:t.addMsg.isEdit}},[i("div",{staticClass:"content"},[i("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.addMsg.content,callback:function(e){t.$set(t.addMsg,"content",e)},expression:"addMsg.content"}})],1),i("div",{staticClass:"bom"},[i("div",{staticClass:"select"},[i("Input",{attrs:{type:"number",placeholder:"请输入排序"},model:{value:t.addMsg.sort,callback:function(e){t.$set(t.addMsg,"sort",e)},expression:"addMsg.sort"}})],1),i("div",{staticClass:"btns-box"},[i("Button",{on:{click:function(e){e.stopPropagation(),t.addMsg.isEdit=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.bindAdd(e)}}},[t._v("保存")])],1)])])],1)]):t._e(),t._l(t.list,(function(e,s){return e.id?i("div",{key:s,staticClass:"msg-item"},[e.isEdit?i("div",{staticClass:"box2"},[i("Input",{staticClass:"input-box",staticStyle:{width:"100%"},attrs:{placeholder:"输入关键字,多个关键字用逗号隔开"},model:{value:e.keyword,callback:function(i){t.$set(e,"keyword",i)},expression:"item.keyword"}}),i("div",{staticClass:"content"},[i("Input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.content,callback:function(i){t.$set(e,"content",i)},expression:"item.content"}})],1),i("div",{staticClass:"bom"},[i("div",{staticClass:"select"},[i("Input",{attrs:{type:"number",placeholder:"请输入排序"},model:{value:e.sort,callback:function(i){t.$set(e,"sort",i)},expression:"item.sort"}})],1),i("div",{staticClass:"btns-box"},[i("Button",{on:{click:function(t){t.stopPropagation(),e.isEdit=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary"},on:{click:function(i){return i.stopPropagation(),t.updataMsg(e)}}},[t._v("保存")])],1)])],1):i("div",{staticClass:"box1"},[i("div",{staticClass:"txt-box"},[e.keyword?i("span",{staticClass:"title"},[t._v(t._s(t._f("filtersTitle")(e.keyword)))]):t._e(),e.content?i("span",[t._v(t._s(t._f("filtersCon")(e.content)))]):t._e()]),t.tabCur?i("div",{staticClass:"edit-box"},[i("span",{staticClass:"iconfont iconbianji",on:{click:function(i){return i.stopPropagation(),t.editMsg(e)}}}),i("span",{staticClass:"iconfont iconshanchu",on:{click:function(i){return i.stopPropagation(),t.delMsg(e,"删除话术",s)}}})]):t._e()])]):t._e()}))],2)],1)])])},kt=[],wt={name:"msgWindow",data:function(){return{ops:{vuescroll:{mode:"native",enable:!1,tips:{deactive:"Push to Load",active:"Release to Load",start:"Loading...",beforeDeactive:"Load Successfully!"},auto:!1,autoLoadDistance:0,pullRefresh:{enable:!1},pushLoad:{enable:!1,auto:!0,autoLoadDistance:10}},bar:{background:"#393232",opacity:".5",size:"2px"}},authReply:!1,isScroll:!0,page:1,limit:10,tabCur:1,searchTxt:"",list:[{isEdit:!1}],model1:"",msgTitle:"",sortList:[],addMsg:{keyword:"",content:"",sort:0,isEdit:!1},isAddSort:!1,classTitle:"",classSort:"",maskTitle:"",editObj:{}}},filters:{filtersTitle:function(t){var e=37;if(t.length>e){var i=t.substring(0,e);return"".concat(i,"...")}return t},filtersCon:function(t){var e=113;if(t.length>e){var i=t.substring(0,e);return"".concat(i,"...")}return t}},mounted:function(){this.getKefuInfo(),this.getList()},methods:{getKefuInfo:function(){var t=this;Object(x["m"])().then((function(e){t.authReply=!!e.data.auto_reply}))},changeSwitch:function(t){var e=this;Object(x["U"])(t?1:0).then((function(t){e.$Message.success("设置成功")})).catch((function(t){e.$Message.error(t.msg)}))},editMsg:function(t){t.isEdit=!0},bindEdit:function(t,e){0!=e&&(t.isEdit=!t.isEdit)},bindSearch:function(){this.isScroll=!0,this.page=1,this.list=[],this.getList()},getList:function(){var t=this;this.isScroll&&Object(x["l"])({page:this.page,limit:this.limit}).then((function(e){t.isScroll=e.data.length>=t.limit,e.data.forEach((function(t,e){t.isEdit=!1})),t.page++,t.list=t.list.concat(e.data)}))},updataMsg:function(t){var e=this;Object(x["G"])(t.id,{keyword:t.keyword,content:t.content,sort:t.sort}).then((function(i){e.$Message.success("修改成功"),t.isEdit=!1})).catch((function(i){e.$Message.error(i.msg),t.isEdit=!0}))},bindFocus:function(){this.list.forEach((function(t,e){t.isEdit=!1})),this.addMsg.cateId=this.cateId,this.addMsg.isEdit=!0},bindAdd:function(){var t=this;Object(x["G"])(0,{keyword:this.addMsg.keyword,content:this.addMsg.content,sort:this.addMsg.sort}).then((function(e){t.addMsg.keyword="",t.addMsg.content="",t.addMsg.sort=0,t.addMsg.isEdit=!1,t.$Message.success(e.msg),e.data.isEdit=!1,t.page=1,t.list=[],t.isScroll=!0,t.getList()})).catch((function(e){t.$Message.error(e.msg)}))},delMsg:function(t,e,i,s){var n=this,a={title:e,num:i,url:"service/auth_reply/".concat(t.id),method:"DELETE",ids:"",kefu:!0};this.$modalSure(a).then((function(t){n.$Message.success(t.msg),n.list.splice(i,1)})).catch((function(t){n.$Message.error(t.msg)}))},handleReachBottom:function(){this.getList()}}},St=wt,xt=(i("d000"),i("fac8"),Object(v["a"])(St,Ct,kt,!1,null,"6e32393e",null)),$t=xt.exports,Ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"list-wrapper"},t._l(t.labelLists,(function(e,s){return i("div",{key:s,staticClass:"user-item",on:{click:function(i){return t.bindActive(e)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.avatar,expression:"item.avatar"}],attrs:{alt:""}}),i("p",{staticClass:"line1"},[t._v(t._s(e.nickname))])])})),0)])},Lt=[],It={name:"transfer",props:{userUid:{type:String|Number,default:""}},data:function(){return{loading:!1,currentChoose:"",labelLists:[],name:""}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;Object(x["T"])({nickname:this.name,uid:this.userUid}).then((function(e){t.labelLists=e.data.list,console.log(t.labelLists)}))},bindActive:function(t){var e=this;Object(x["Q"])({user_id:this.userUid,kefuToUserId:t.user_id}).then((function(i){e.$Message.success(i.msg),e.$emit("close"),e.$emit("transferSuccess",t)})).catch((function(t){e.$Message.error(t.msg)}))}}},jt=It,Mt=(i("0363"),Object(v["a"])(jt,Ot,Lt,!1,null,"94f8855c",null)),Et=Mt.exports,Tt=i("c276"),Dt=i("7a1a"),Vt=i("6b6c");function zt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Pt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ut=i("16b0");Ut=new Audio(Ut);Ut.muted=!1;var At=function(t,e){e=1*e||1;var i=[];return t.forEach((function(t,s){s%e===0&&i.push([]),i[i.length-1].push(t)})),i},Ht={name:"index",components:{baseHeader:y,chatList:V,rightMenu:ft,msgWindow:_t,transfer:Et,HappyScroll:c["HappyScroll"],authReply:$t},directives:{},data:function(){return{wsOpen:!1,authMsg:!1,isEmoji:!1,chatCon:"",emojiGroup:At(mt["a"],20),emojiList:mt["a"],html:"",userActive:{},kefuInfo:{},isMsg:!1,isTransfer:!1,activeMsg:"",chatList:[],text:"",limit:20,upperId:0,online:!0,scrollTop:0,isScroll:!0,oldHeight:0,isLoad:!1,isProductBox:!1,goodsId:"",isOrder:!1,orderId:"",upload:"",header:{},uploadData:{filename:"file"},userOnline:{},newRecored:{},searchData:"",scrollNum:0,transferId:"",bodyClose:!1,tourist:0,isShow:!1,toChat:!1}},computed:Pt(Pt({},Object(u["e"])({socketStatus:function(t){return t.admin.kefu.socketStatus}})),{},{disabled:function(){return 0==this.chatCon.length},records:function(){var t=this;return this.chatList.map((function(e,i){return e.time=t.$moment(1e3*e.add_time).format("MMMDo H:mm"),i?e.add_time-t.chatList[i-1].add_time>=300?e.show=!0:e.show=!1:e.show=!0,e}))}}),watch:{},created:function(){var t=this;this.upload=r["a"].apiBaseURL.replace("admin","kefu")+"/upload",console.log(r["a"].apiBaseURL,this.upload),Object(Dt["b"])().then((function(e){t.kefuInfo=e.data,t.kefuInfo.site_name?document.title=t.kefuInfo.site_name:t.kefuInfo.site_name=""}))},mounted:function(){var t=this,e=this;window.addEventListener("click",(function(){e.isEmoji=!1})),this.bus.pageWs=Object(k["a"])(!0,Object(Tt["d"])("kefu_token")),this.wsAgain(),this.header["Authori-zation"]="Bearer "+Object(Tt["d"])("kefu_token"),this.text=this.replace_em("[em-smiling_imp]"),console.log(this.$route),window.onbeforeunload=function(e){if("kefu_pc_list"==t.$route.name)return e=e||window.event,e&&(e.returnValue="您确定要离开吗？"),"您确定要离开吗?";window.onbeforeunload=null}},methods:{handleInput:function(){var t=this.$refs.editable.innerText.replace(/[\r\n]/g,"");console.log(t),this.chatCon=t.trim()},handlePaste:function(t){var e=this,i=t.clipboardData.items[0];if(-1!=i.type.indexOf("image/")){var s=i.getAsFile(),n=new FormData;n.append("filename","file"),n.append("file",s),console.log(this.upload),Object(Vt["a"])({url:this.upload,method:"post",data:n,kefu:!0}).then((function(t){e.sendMsg(t.data.url,3),e.$refs.editable.innerText=""})).catch((function(t){e.$Message.error(t.msg)}))}},wsAgain:function(){var t=this;this.bus.pageWs.then((function(e){e.$on("close",(function(){t.toChat=!1})),e.$on("success",(function(i){t.isShow=!0;var s=t.userActive?t.userActive.to_user_id:t.userActive;!t.toChat&&s&&(e.send({data:{id:s,test:1},type:"to_chat"}),t.toChat=!0,t.online=!!i.online)})),e.$on("chat_auth",(function(e){e.length&&e.map((function(e){e.msn=t.replace_em(e.msn),t.pushMessageToList(e)}))})),e.$on(["reply","chat"],(function(e){1==e.msn_type&&(e.msn=t.replace_em(e.msn)),2==e.msn_type&&-1==e.msn.indexOf("[")&&(e.msn=t.replace_em("[".concat(e.msn,"]"))),t.chatList.push(e),t.$refs.chatList.updateUserList(e.recored,!1),t.$nextTick((function(){t.scrollTop=document.querySelector("#chat_scroll").offsetHeight}))})),e.$on("recored",(function(e){console.log(e),t.$refs.chatList.updateUserList(e,!0)})),e.$on("reply",(function(t){Ut.play()})),e.$on("socket_error",(function(){t.$Message.error("连接失败")})),e.$on("err_tip",(function(e){t.$Message.error(e.msg)})),e.$on("user_online",(function(e){console.log(e),t.userOnline=e})),e.$on("mssage_num",(function(e){e.num>0&&Ut.play(),t.chatList.forEach((function(t){t.to_uid==e.user_id&&(t.mssage_num=e.num)})),e.recored.id&&(Ut.play(),t.newRecored=e.recored)}))}))},wsRestart:function(){this.bus.pageWs=Object(k["a"])(!0),this.wsOpen=!0,this.wsAgain()},handleFormatError:function(t){this.$Message.error("上传图片只能是 jpg、jpg、jpeg、gif 格式!")},handleSuccess:function(t,e,i){200===t.status?(this.$Message.success(t.msg),this.sendMsg(t.data.url,3)):this.$Message.error(t.msg)},setOnline:function(t){this.bus.pageWs.then((function(e){e.send({data:{online:t},type:"online"})})),this.online=t},select:function(t){var e="[".concat(t,"]");this.$refs.editable.innerText+=e,this.chatCon+=e,this.isEmoji=!1},replace_em:function(t){return t=t.replace(/\[em-([\s\S]*)\]/g,"<span class='em em-$1'/></span>"),t},changeType:function(t){this.tourist=t},setDataId:function(t){var e=this;this.userActive=t,this.chatList=[],this.upperId=0,this.oldHeight=0,this.isScroll=!0,t?(window.document.title=t.nickname?"正在和".concat(t.nickname,"对话中 - ").concat(this.kefuInfo.site_name):"正在和游客对话中 - "+this.kefuInfo.site_name,this.bus.pageWs.then((function(t){t.send({data:{id:e.userActive?e.userActive.to_user_id:e.userActive},type:"to_chat"}),e.toChat=!0})),this.getChatList()):(window.document.title=this.kefuInfo.site_name,this.bus.pageWs.then((function(t){t.send({data:{id:e.userActive?e.userActive.to_user_id:e.userActive},type:"to_chat"})})))},msgClose:function(t){this.isTransfer=!1},transferSuccess:function(t){this.$refs.chatList.deleteUserList(this.userActive)},msgWinClose:function(){this.isMsg=!1},msgAuthClose:function(){this.authMsg=!1},activeTxt:function(t){this.$refs.editable.innerText+="".concat(t),this.chatCon+=t,this.isMsg=!1},sendText:function(){var t=this.$refs.editable.innerText.replace(/[\r\n]/g,"");if(!t)return this.$Message.error("请输入内容");this.sendMsg(t,1),this.$refs.editable.innerText="",this.chatCon=""},sendMsg:function(t,e){var i=this,s=Object(Tt["e"])(),n=this.chatOptinos(s,t,e);Object(x["I"])(n).then((function(t){n.add_time=Date.parse(new Date)/1e3,n.msn=i.replace_em(n.msn),i.pushMessageToList(n)}))},pushMessageToList:function(t){this.chatList.push(t),this.setPageScrollTo()},chatOptinos:function(t,e,i,s){return{msn:e,msn_type:i,to_user_id:this.userActive?this.userActive.to_user_id:this.userActive,is_send:0,is_tourist:0,avatar:this.kefuInfo.avatar,user_id:this.kefuInfo.user_id,appid:this.kefuInfo.appid,other:s||{},type:0,guid:t}},send:function(t,e){k["a"].send({data:e,type:t})},getChatList:function(){var t=this;Object(x["O"])({limit:this.limit,user_id:this.userActive.to_user_id,upperId:this.upperId,is_tourist:this.tourist}).then((function(e){e.data.forEach((function(e){1==e.msn_type?e.msn=t.replace_em(e.msn):2==e.msn_type&&(e.msn=t.replace_em("[".concat(e.msn,"]")))}));var i="";i=0==t.upperId?"":"chat_".concat(t.chatList[0].id),t.chatList=[].concat(Object(a["a"])(e.data),Object(a["a"])(t.chatList)),t.upperId=e.data.length>0?e.data[0].id:0,t.isLoad=!1,t.$nextTick((function(){t.isScroll=e.data.length>=t.limit,t.setPageScrollTo(i)}))}))},setPageScrollTo:function(t){var e=this;this.$nextTick((function(){if(t)setTimeout((function(){var i=parseFloat(document.getElementById(t).offsetTop)-60;e.scrollTop=i}),0);else{var i=document.querySelector("#chat_scroll");e.scrollTop=i.offsetHeight+.01,setTimeout((function(t){e.scrollTop!=e.$refs.scrollBox.offsetHeight&&(e.scrollTop=document.querySelector("#chat_scroll").offsetHeight)}),300)}}))},scrollHandler:function(){this.isScroll&&this.upperId&&(this.isLoad=!0,this.getChatList())},scrollToTop:function(t){var e=this,i=document.querySelector("#chat_scroll");this.scrollTop=i.offsetHeight-this.oldHeight,setTimeout((function(t){console.log(e.$refs.scrollBox.offsetHeight),e.scrollTop=e.$refs.scrollBox.offsetHeight-e.oldHeight}),300)},bindPush:function(t){this.sendMsg(t,5)},lookGoods:function(t){this.goodsId=t.msn,this.isProductBox=!0},bindSearch:function(t){this.searchData=t,this.oldHeight=0,this.upperId=0,this.isScroll=!1},transferPeople:function(t){this.transferId=t.id,this.isTransfer=!1,this.$Message.success("转接成功"),k["a"].then((function(e){e.send({type:"to_chat",data:{id:t.uid}})}))},transferOk:function(){},tolink:function(){window.open("http://github.crmeb.net/u/CRMChat")}}},Nt=Ht,Bt=(i("54fe"),Object(v["a"])(Nt,s,n,!1,null,"75dd4160",null));e["default"]=Bt.exports},"3d84":function(t,e,i){},"402b":function(t,e,i){"use strict";var s=i("21c4"),n=i.n(s);n.a},4112:function(t,e,i){t.exports=i.p+"img/no_user.a09b282b.png"},4152:function(t,e,i){"use strict";var s=i("13e90"),n=i.n(s);n.a},"468b":function(t,e,i){t.exports=i.p+"img/no_all.174e30c0.png"},"4d2f":function(t,e,i){},"54fe":function(t,e,i){"use strict";var s=i("4d2f"),n=i.n(s);n.a},"55dd":function(t,e,i){"use strict";var s=i("5ca1"),n=i("d8e8"),a=i("4bf8"),o=i("79e5"),r=[].sort,c=[1,2,3];s(s.P+s.F*(o((function(){c.sort(void 0)}))||!o((function(){c.sort(null)}))||!i("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(a(this)):r.call(a(this),n(t))}})},"5a0c":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";var t="millisecond",e="second",i="minute",s="hour",n="day",a="week",o="month",r="quarter",c="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,d=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},h={s:u,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+u(s,2,"0")+":"+u(n,2,"0")},m:function(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,o),n=e-s<0,a=t.clone().add(i+(n?-1:1),o);return Number(-(i+(e-s)/(n?s-a:a-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:o,y:c,w:a,d:n,D:"date",h:s,m:i,s:e,ms:t,Q:r}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",p={};p[m]=f;var g=function(t){return t instanceof _},v=function(t,e,i){var s;if(!t)return m;if("string"==typeof t)p[t]&&(s=t),e&&(p[t]=e,s=t);else{var n=t.name;p[n]=t,s=n}return!i&&s&&(m=s),s||!i&&m},b=function(t,e){if(g(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new _(i)},y=h;y.l=v,y.i=g,y.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var _=function(){function u(t){this.$L=this.$L||v(t.locale,null,!0),this.parse(t)}var h=u.prototype;return h.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(l);if(s)return i?new Date(Date.UTC(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)):new Date(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)}return new Date(e)}(t),this.init()},h.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},h.$utils=function(){return y},h.isValid=function(){return!("Invalid Date"===this.$d.toString())},h.isSame=function(t,e){var i=b(t);return this.startOf(e)<=i&&i<=this.endOf(e)},h.isAfter=function(t,e){return b(t)<this.startOf(e)},h.isBefore=function(t,e){return this.endOf(e)<b(t)},h.$g=function(t,e,i){return y.u(t)?this[e]:this.set(i,t)},h.year=function(t){return this.$g(t,"$y",c)},h.month=function(t){return this.$g(t,"$M",o)},h.day=function(t){return this.$g(t,"$W",n)},h.date=function(t){return this.$g(t,"$D","date")},h.hour=function(t){return this.$g(t,"$H",s)},h.minute=function(t){return this.$g(t,"$m",i)},h.second=function(t){return this.$g(t,"$s",e)},h.millisecond=function(e){return this.$g(e,"$ms",t)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(t,r){var l=this,d=!!y.u(r)||r,u=y.p(t),h=function(t,e){var i=y.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return d?i:i.endOf(n)},f=function(t,e){return y.w(l.toDate()[t].apply(l.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},m=this.$W,p=this.$M,g=this.$D,v="set"+(this.$u?"UTC":"");switch(u){case c:return d?h(1,0):h(31,11);case o:return d?h(1,p):h(0,p+1);case a:var b=this.$locale().weekStart||0,_=(m<b?m+7:m)-b;return h(d?g-_:g+(6-_),p);case n:case"date":return f(v+"Hours",0);case s:return f(v+"Minutes",1);case i:return f(v+"Seconds",2);case e:return f(v+"Milliseconds",3);default:return this.clone()}},h.endOf=function(t){return this.startOf(t,!1)},h.$set=function(a,r){var l,d=y.p(a),u="set"+(this.$u?"UTC":""),h=(l={},l[n]=u+"Date",l.date=u+"Date",l[o]=u+"Month",l[c]=u+"FullYear",l[s]=u+"Hours",l[i]=u+"Minutes",l[e]=u+"Seconds",l[t]=u+"Milliseconds",l)[d],f=d===n?this.$D+(r-this.$W):r;if(d===o||d===c){var m=this.clone().set("date",1);m.$d[h](f),m.init(),this.$d=m.set("date",Math.min(this.$D,m.daysInMonth())).toDate()}else h&&this.$d[h](f);return this.init(),this},h.set=function(t,e){return this.clone().$set(t,e)},h.get=function(t){return this[y.p(t)]()},h.add=function(t,r){var l,d=this;t=Number(t);var u=y.p(r),h=function(e){var i=b(d);return y.w(i.date(i.date()+Math.round(e*t)),d)};if(u===o)return this.set(o,this.$M+t);if(u===c)return this.set(c,this.$y+t);if(u===n)return h(1);if(u===a)return h(7);var f=(l={},l[i]=6e4,l[s]=36e5,l[e]=1e3,l)[u]||1,m=this.$d.getTime()+t*f;return y.w(m,this)},h.subtract=function(t,e){return this.add(-1*t,e)},h.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",s=y.z(this),n=this.$locale(),a=this.$H,o=this.$m,r=this.$M,c=n.weekdays,l=n.months,u=function(t,s,n,a){return t&&(t[s]||t(e,i))||n[s].substr(0,a)},h=function(t){return y.s(a%12||12,t,"0")},f=n.meridiem||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:r+1,MM:y.s(r+1,2,"0"),MMM:u(n.monthsShort,r,l,3),MMMM:u(l,r),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,c,2),ddd:u(n.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(a),HH:y.s(a,2,"0"),h:h(1),hh:h(2),a:f(a,o,!0),A:f(a,o,!1),m:String(o),mm:y.s(o,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:s};return i.replace(d,(function(t,e){return e||m[t]||s.replace(":","")}))},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(t,l,d){var u,h=y.p(l),f=b(t),m=6e4*(f.utcOffset()-this.utcOffset()),p=this-f,g=y.m(this,f);return g=(u={},u[c]=g/12,u[o]=g,u[r]=g/3,u[a]=(p-m)/6048e5,u[n]=(p-m)/864e5,u[s]=p/36e5,u[i]=p/6e4,u[e]=p/1e3,u)[h]||p,d?g:y.a(g)},h.daysInMonth=function(){return this.endOf(o).$D},h.$locale=function(){return p[this.$L]},h.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=v(t,e,!0);return s&&(i.$L=s),i},h.clone=function(){return y.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},u}();return b.prototype=_.prototype,b.extend=function(t,e){return t(e,_,b),b},b.locale=v,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=p[m],b.Ls=p,b}))},"5f70":function(t,e,i){t.exports=i.p+"img/no_fh.977a0fb8.png"},6107:function(t,e,i){"use strict";var s=i("3d84"),n=i.n(s);n.a},"6db4":function(t,e,i){!function(t,s){s(e,i("2b0e"))}(0,(function(t,e){"use strict";function i(t,e,i){document.addEventListener?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function s(t,e,i){document.addEventListener?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t,e){return e={exports:{}},t(e,e.exports),e.exports}function o(){var t={},e=0,i=0,s=0;return{add:function(n,a){a||(a=n,n=0),n>i?i=n:n<s&&(s=n),t[n]||(t[n]=[]),t[n].push(a),e++},process:function(){for(var e=s;e<=i;e++)for(var n=t[e],a=0;a<n.length;a++)(0,n[a])()},size:function(){return e}}}function r(t){return t[S]}function c(t){return Array.isArray(t)||void 0!==t.length}function l(t){if(Array.isArray(t))return t;var e=[];return I(t,(function(t){e.push(t)})),e}function d(t){return t&&1===t.nodeType}function u(t,e,i){var s=t[e];return void 0!==s&&null!==s||void 0===i?s:i}e=e&&e.hasOwnProperty("default")?e.default:e;var h=function(t){var e=Date.now();return function(i){if(i-e>(t||14))return e=i,!0}},f=function(t,e,i){var s,n,a,o,r,c=function c(){var l=(new Date).getTime()-o;l<e&&l>=0?s=setTimeout(c,e-l):(s=null,i||(r=t.apply(a,n),s||(a=n=null)))};return function(){a=this,n=arguments,o=(new Date).getTime();var l=i&&!s;return s||(s=setTimeout(c,e)),l&&(r=t.apply(a,n),a=n=null),r}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"stripContainer",staticClass:"happy-scroll-strip",class:[t.horizontal?"happy-scroll-strip--horizontal":"happy-scroll-strip--vertical"],style:[t.initLocation],on:{"!wheel":function(e){return e.stopPropagation(),t.handlerWheel(e)}}},[i("div",{ref:"strip",staticClass:"happy-scroll-bar",style:[t.translate,n({},t.config.sizeAttr,t.length+"px"),t.initSize,{background:t.color},{opacity:t.isOpacity}],on:{mousedown:function(e){return e.stopPropagation(),t.handlerMouseDown(e)}}})])},staticRenderFns:[],name:"happy-scroll-strip",props:{horizontal:Boolean,left:Boolean,top:Boolean,move:{type:Number,default:0},size:{type:[Number,String],default:4},minLengthV:{type:Number,default:40},minLengthH:{type:Number,default:40},color:{type:String,default:"rgba(51,51,51,0.2)"},throttle:{type:Number,default:14}},data:function(){return{config:{},startMove:!1,binded:!1,length:0,percentage:0,maxOffset:0,currentOffset:0,moveThrottle:h(this.throttle)}},watch:{currentOffset:function(t){0===t?this.emitLocationEvent("start",0):t===this.maxOffset&&this.emitLocationEvent("end",t/this.percentage)}},computed:{initSize:function(){return n({},this.horizontal?"height":"width",this.size+"px")},isOpacity:function(){return this.percentage<1?1:0},translate:function(){var t=this.move*this.percentage;if(this.$refs.stripContainer)return t<0&&(t=0),t>this.maxOffset&&(t=this.maxOffset),this.currentOffset=t,{transform:this.config.translate+"("+t+"px)"}},initLocation:function(){return this.horizontal?this.top?{top:0,bottom:"auto"}:"":this.left?{left:0,right:"auto"}:""}},methods:{emitLocationEvent:function(t,e){var i=this.horizontal?"horizontal":"vertical";this.$emit(i+"-"+t,e)},computeStrip:function(t,e){var i=this.$refs.stripContainer[this.config.client];this.length=i*(e/t);var s=this.horizontal?this.minLengthH:this.minLengthV;s<1&&(s*=i),this.length=this.length<s?s:this.length;var n=this.maxOffset=i-this.length;this.percentage=n/(t-e)},bindEvents:function(){this.binded||(i(document,"mouseup",this.handlerMouseUp),i(document,"mousemove",this.handlerMove),this.binded=!0)},handlerMouseDown:function(t){if(0===t.button)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.startMove=!0,this.axis=t[this.config.clientAxis],this.bindEvents(),!1},handlerMouseUp:function(){this.startMove=!1},handlerMove:function(t){if(this.startMove&&this.moveThrottle(Date.now())){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();var e=this.$refs.stripContainer.getBoundingClientRect(),i=this.$refs.strip.getBoundingClientRect()[this.config.direction]-e[this.config.direction],s=t[this.config.clientAxis]-this.axis+i;this.axis=t[this.config.clientAxis],this.changeOffset(s)}},handlerWheel:function(t){var e=this.$refs.stripContainer.getBoundingClientRect(),i=this.$refs.strip.getBoundingClientRect()[this.config.direction]-e[this.config.direction]+t[this.config.wheelDelta];this.changeOffset(i,t)},changeOffset:function(t,e){t<0&&(t=0),t>this.maxOffset&&(t=this.maxOffset),e&&t>0&&t<this.maxOffset&&(e.preventDefault(),e.stopImmediatePropagation()),this.currentOffset=t,this.$refs.strip.style.transform=this.config.translate+"("+t+"px)",this.$emit("change",t/this.percentage)}},created:function(){var t={h:{sizeAttr:"width",client:"clientWidth",clientAxis:"clientX",translate:"translateX",direction:"left",wheelDelta:"deltaX"},v:{sizeAttr:"height",client:"clientHeight",clientAxis:"clientY",translate:"translateY",direction:"top",wheelDelta:"deltaY"}};this.config=this.horizontal?t.h:t.v},destroyed:function(){s(document,"mouseup",this.handlerClickUp),s(document,"mousemove",this.handlerMove)}},p=a((function(t){(t.exports={}).forEach=function(t,e){for(var i=0;i<t.length;i++){var s=e(t[i]);if(s)return s}}})),g=function(t){var e=t.stateHandler.getState;return{isDetectable:function(t){var i=e(t);return i&&!!i.isDetectable},markAsDetectable:function(t){e(t).isDetectable=!0},isBusy:function(t){return!!e(t).busy},markBusy:function(t,i){e(t).busy=!!i}}},v=function(t){function e(e){var s=t.get(e);return void 0===s?[]:i[s]||[]}var i={};return{get:e,add:function(e,s){var n=t.get(e);i[n]||(i[n]=[]),i[n].push(s)},removeListener:function(t,i){for(var s=e(t),n=0,a=s.length;n<a;++n)if(s[n]===i){s.splice(n,1);break}},removeAllListeners:function(t){var i=e(t);i&&(i.length=0)}}},b=function(){var t=1;return{generate:function(){return t++}}},y=function(t){var e=t.idGenerator,i=t.stateHandler.getState;return{get:function(t){var e=i(t);return e&&void 0!==e.id?e.id:null},set:function(t){var s=i(t);if(!s)throw new Error("setId required the element to have a resize detection state.");var n=e.generate();return s.id=n,n}}},_=function(t){function e(){}var i={log:e,warn:e,error:e};if(!t&&window.console){var s=function(t,e){t[e]=function(){var t=console[e];if(t.apply)t.apply(console,arguments);else for(var i=0;i<arguments.length;i++)t(arguments[i])}};s(i,"log"),s(i,"warn"),s(i,"error")}return i},C=a((function(t){var e=t.exports={};e.isIE=function(t){return!!function(){var t=navigator.userAgent.toLowerCase();return-1!==t.indexOf("msie")||-1!==t.indexOf("trident")||-1!==t.indexOf(" edge/")}()&&(!t||t===function(){var t=3,e=document.createElement("div"),i=e.getElementsByTagName("i");do{e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e"}while(i[0]);return t>4?t:void 0}())},e.isLegacyOpera=function(){return!!window.opera}})),k=a((function(t){(t.exports={}).getOption=function(t,e,i){var s=t[e];return void 0!==s&&null!==s||void 0===i?s:i}})),w=function(t){function e(){for(u=!0;d.size();){var t=d;d=o(),t.process()}u=!1}function i(){l=n(e)}function s(t){return clearTimeout(t)}function n(t){return function(t){return setTimeout(t,0)}(t)}var a=(t=t||{}).reporter,r=k.getOption(t,"async",!0),c=k.getOption(t,"auto",!0);c&&!r&&(a&&a.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var l,d=o(),u=!1;return{add:function(t,e){!u&&c&&r&&0===d.size()&&i(),d.add(t,e)},force:function(t){u||(void 0===t&&(t=r),l&&(s(l),l=null),t?i():e())}}},S="_erd",x={initState:function(t){return t[S]={},r(t)},getState:r,cleanState:function(t){delete t[S]}},$=function(t){function e(t){return n(t).object}var i=(t=t||{}).reporter,s=t.batchProcessor,n=t.stateHandler.getState;if(!i)throw new Error("Missing required dependency: reporter.");return{makeDetectable:function(t,e,a){a||(a=e,e=t,t=null),t=t||{},C.isIE(8)?a(e):function(t,e){function a(){function s(){if("static"===c.position){t.style.position="relative";var e=function(t,e,i,s){var n=i[s];"auto"!==n&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(n)&&(t.warn("An element that is positioned static has style."+s+"="+n+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+s+" will be set to 0. Element: ",e),e.style[s]=0)};e(i,t,c,"top"),e(i,t,c,"right"),e(i,t,c,"bottom"),e(i,t,c,"left")}}""!==c.position&&(s(c),r=!0);var a=document.createElement("object");a.style.cssText=o,a.tabIndex=-1,a.type="text/html",a.onload=function(){function i(t,e){t.contentDocument?e(t.contentDocument):setTimeout((function(){i(t,e)}),100)}r||s(),i(this,(function(i){e(t)}))},C.isIE()||(a.data="about:blank"),t.appendChild(a),n(t).object=a,C.isIE()&&(a.data="about:blank")}var o="display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; padding: 0; margin: 0; opacity: 0; z-index: -1000; pointer-events: none;",r=!1,c=window.getComputedStyle(t),l=t.offsetWidth,d=t.offsetHeight;n(t).startSize={width:l,height:d},s?s.add(a):a()}(e,a)},addListener:function(t,i){function s(){i(t)}if(!e(t))throw new Error("Element is not detectable by this strategy.");C.isIE(8)?(n(t).object={proxy:s},t.attachEvent("onresize",s)):e(t).contentDocument.defaultView.addEventListener("resize",s)},uninstall:function(t){C.isIE(8)?t.detachEvent("onresize",n(t).object.proxy):t.removeChild(e(t)),delete n(t).object}}},O=p.forEach,L=function(t){function e(t){t.className+=" "+u+"_animation_active"}function i(t,e,i){if(t.addEventListener)t.addEventListener(e,i);else{if(!t.attachEvent)return o.error("[scroll] Don't know how to add event listeners.");t.attachEvent("on"+e,i)}}function s(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i);else{if(!t.detachEvent)return o.error("[scroll] Don't know how to remove event listeners.");t.detachEvent("on"+e,i)}}function n(t){return c(t).container.childNodes[0].childNodes[0].childNodes[0]}function a(t){return c(t).container.childNodes[0].childNodes[0].childNodes[1]}var o=(t=t||{}).reporter,r=t.batchProcessor,c=t.stateHandler.getState,l=t.idHandler;if(!r)throw new Error("Missing required dependency: batchProcessor");if(!o)throw new Error("Missing required dependency: reporter.");var d=function(){var t=document.createElement("div");t.style.cssText="position: absolute; width: 1000px; height: 1000px; visibility: hidden; margin: 0; padding: 0;";var e=document.createElement("div");e.style.cssText="position: absolute; width: 500px; height: 500px; overflow: scroll; visibility: none; top: -1500px; left: -1500px; visibility: hidden; margin: 0; padding: 0;",e.appendChild(t),document.body.insertBefore(e,document.body.firstChild);var i=500-e.clientWidth,s=500-e.clientHeight;return document.body.removeChild(e),{width:i,height:s}}(),u="erd_scroll_detection_container";return function(t,e){if(!document.getElementById(t)){var i=e+"_animation",s="/* Created by the element-resize-detector library. */\n";s+="."+e+" > div::-webkit-scrollbar { display: none; }\n\n",s+="."+e+"_animation_active { -webkit-animation-duration: 0.1s; animation-duration: 0.1s; -webkit-animation-name: "+i+"; animation-name: "+i+"; }\n",s+="@-webkit-keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",function(e,i){i=i||function(t){document.head.appendChild(t)};var s=document.createElement("style");s.innerHTML=e,s.id=t,i(s)}(s+="@keyframes "+i+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}}("erd_scroll_detection_scrollbar_style",u),{makeDetectable:function(t,s,h){function f(){if(t.debug){var e=Array.prototype.slice.call(arguments);if(e.unshift(l.get(s),"Scroll: "),o.log.apply)o.log.apply(null,e);else for(var i=0;i<e.length;i++)o.log(e[i])}}function m(t){var e=c(t).container.childNodes[0],i=getComputedStyle(e);return!i.width||-1===i.width.indexOf("px")}function p(){var t=getComputedStyle(s),e={};return e.position=t.position,e.width=s.offsetWidth,e.height=s.offsetHeight,e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left,e.widthCSS=t.width,e.heightCSS=t.height,e}function g(){var t=p();c(s).startSize={width:t.width,height:t.height},f("Element start size",c(s).startSize)}function v(){c(s).listeners=[]}function b(){if(f("storeStyle invoked."),c(s)){var t=p();c(s).style=t}else f("Aborting because element has been uninstalled")}function y(t,e,i){c(t).lastWidth=e,c(t).lastHeight=i}function _(t){return n(t).childNodes[0]}function C(){return 2*d.width+1}function k(){return 2*d.height+1}function w(t){return t+10+C()}function S(t){return t+10+k()}function x(t){return 2*t+C()}function $(t){return 2*t+k()}function L(t,e,i){var s=n(t),o=a(t),r=w(e),c=S(i),l=x(e),d=$(i);s.scrollLeft=r,s.scrollTop=c,o.scrollLeft=l,o.scrollTop=d}function I(){var t=c(s).container;if(!t){(t=document.createElement("div")).className=u,t.style.cssText="visibility: hidden; display: inline; width: 0px; height: 0px; z-index: -1; overflow: hidden; margin: 0; padding: 0;",c(s).container=t,e(t),s.appendChild(t);var n=function(){c(s).onRendered&&c(s).onRendered()};i(t,"animationstart",n),c(s).onAnimationStart=n}return t}function j(){function t(){c(s).onExpand&&c(s).onExpand()}function e(){c(s).onShrink&&c(s).onShrink()}if(f("Injecting elements"),c(s)){!function(){var t=c(s).style;if("static"===t.position){s.style.position="relative";var e=function(t,e,i,s){var n=i[s];"auto"!==n&&"0"!==function(t){return t.replace(/[^-\d\.]/g,"")}(n)&&(t.warn("An element that is positioned static has style."+s+"="+n+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+s+" will be set to 0. Element: ",e),e.style[s]=0)};e(o,s,t,"top"),e(o,s,t,"right"),e(o,s,t,"bottom"),e(o,s,t,"left")}}();var n=c(s).container;n||(n=I());var a=d.width,r=d.height,l="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; "+function(t,e,i,s){return t=t?t+"px":"0",e=e?e+"px":"0",i=i?i+"px":"0",s=s?s+"px":"0","left: "+t+"; top: "+e+"; right: "+s+"; bottom: "+i+";"}(-(1+a),-(1+r),-r,-a),h=document.createElement("div"),m=document.createElement("div"),p=document.createElement("div"),g=document.createElement("div"),v=document.createElement("div"),b=document.createElement("div");h.dir="ltr",h.style.cssText="position: absolute; flex: none; overflow: hidden; z-index: -1; visibility: hidden; width: 100%; height: 100%; left: 0px; top: 0px;",h.className=u,m.className=u,m.style.cssText=l,p.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",g.style.cssText="position: absolute; left: 0; top: 0;",v.style.cssText="position: absolute; flex: none; overflow: scroll; z-index: -1; visibility: hidden; width: 100%; height: 100%;",b.style.cssText="position: absolute; width: 200%; height: 200%;",p.appendChild(g),v.appendChild(b),m.appendChild(p),m.appendChild(v),h.appendChild(m),n.appendChild(h),i(p,"scroll",t),i(v,"scroll",e),c(s).onExpandScroll=t,c(s).onShrinkScroll=e}else f("Aborting because element has been uninstalled")}function M(){function e(t,e,i){var s=_(t),n=w(e),a=S(i);s.style.width=n+"px",s.style.height=a+"px"}function i(i){var n=s.offsetWidth,a=s.offsetHeight;f("Storing current size",n,a),y(s,n,a),r.add(0,(function(){if(c(s))if(d()){if(t.debug){var i=s.offsetWidth,r=s.offsetHeight;i===n&&r===a||o.warn(l.get(s),"Scroll: Size changed before updating detector elements.")}e(s,n,a)}else f("Aborting because element container has not been initialized");else f("Aborting because element has been uninstalled")})),r.add(1,(function(){c(s)?d()?L(s,n,a):f("Aborting because element container has not been initialized"):f("Aborting because element has been uninstalled")})),i&&r.add(2,(function(){c(s)?d()?i():f("Aborting because element container has not been initialized"):f("Aborting because element has been uninstalled")}))}function d(){return!!c(s).container}function u(){f("notifyListenersIfNeeded invoked");var t=c(s);return void 0===c(s).lastNotifiedWidth&&t.lastWidth===t.startSize.width&&t.lastHeight===t.startSize.height?f("Not notifying: Size is the same as the start size, and there has been no notification yet."):t.lastWidth===t.lastNotifiedWidth&&t.lastHeight===t.lastNotifiedHeight?f("Not notifying: Size already notified"):(f("Current size not notified, notifying..."),t.lastNotifiedWidth=t.lastWidth,t.lastNotifiedHeight=t.lastHeight,void O(c(s).listeners,(function(t){t(s)})))}function h(){if(f("Scroll detected."),m(s))f("Scroll event fired while unrendered. Ignoring...");else{var t=s.offsetWidth,e=s.offsetHeight;t!==s.lastWidth||e!==s.lastHeight?(f("Element size changed."),i(u)):f("Element size has not changed ("+t+"x"+e+").")}}if(f("registerListenersAndPositionElements invoked."),c(s)){c(s).onRendered=function(){if(f("startanimation triggered."),m(s))f("Ignoring since element is still unrendered...");else{f("Element rendered.");var t=n(s),e=a(s);0!==t.scrollLeft&&0!==t.scrollTop&&0!==e.scrollLeft&&0!==e.scrollTop||(f("Scrollbars out of sync. Updating detector elements..."),i(u))}},c(s).onExpand=h,c(s).onShrink=h;var p=c(s).style;e(s,p.width,p.height)}else f("Aborting because element has been uninstalled")}function E(){if(f("finalizeDomMutation invoked."),c(s)){var t=c(s).style;y(s,t.width,t.height),L(s,t.width,t.height)}else f("Aborting because element has been uninstalled")}function T(){h(s)}function D(){f("Installing..."),v(),g(),r.add(0,b),r.add(1,j),r.add(2,M),r.add(3,E),r.add(4,T)}h||(h=s,s=t,t=null),t=t||{},f("Making detectable..."),function(t){return!function(t){return t===t.ownerDocument.body||t.ownerDocument.body.contains(t)}(t)||null===getComputedStyle(t)}(s)?(f("Element is detached"),I(),f("Waiting until element is attached..."),c(s).onRendered=function(){f("Element is now attached"),D()}):D()},addListener:function(t,e){if(!c(t).listeners.push)throw new Error("Cannot add listener to an element that is not detectable.");c(t).listeners.push(e)},uninstall:function(t){var e=c(t);e&&(e.onExpandScroll&&s(n(t),"scroll",e.onExpandScroll),e.onShrinkScroll&&s(a(t),"scroll",e.onShrinkScroll),e.onAnimationStart&&s(e.container,"animationstart",e.onAnimationStart),e.container&&t.removeChild(e.container))}}},I=p.forEach,j=function(t){var e;if((t=t||{}).idHandler)e={get:function(e){return t.idHandler.get(e,!0)},set:t.idHandler.set};else{var i=b(),s=y({idGenerator:i,stateHandler:x});e=s}var n=t.reporter;n||(n=_(!1===n));var a=u(t,"batchProcessor",w({reporter:n})),o={};o.callOnAdd=!!u(t,"callOnAdd",!0),o.debug=!!u(t,"debug",!1);var r,h=v(e),f=g({stateHandler:x}),m=u(t,"strategy","object"),p={reporter:n,batchProcessor:a,stateHandler:x,idHandler:e};if("scroll"===m&&(C.isLegacyOpera()?(n.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),m="object"):C.isIE(9)&&(n.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),m="object")),"scroll"===m)r=L(p);else{if("object"!==m)throw new Error("Invalid strategy name: "+m);r=$(p)}var k={};return{listenTo:function(t,i,s){function a(t){var e=h.get(t);I(e,(function(e){e(t)}))}function m(t,e,i){h.add(e,i),t&&i(e)}if(s||(s=i,i=t,t={}),!i)throw new Error("At least one element required.");if(!s)throw new Error("Listener required.");if(d(i))i=[i];else{if(!c(i))return n.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=l(i)}var p=0,g=u(t,"callOnAdd",o.callOnAdd),v=u(t,"onReady",(function(){})),b=u(t,"debug",o.debug);I(i,(function(t){x.getState(t)||(x.initState(t),e.set(t));var o=e.get(t);if(b&&n.log("Attaching listener to element",o,t),!f.isDetectable(t))return b&&n.log(o,"Not detectable."),f.isBusy(t)?(b&&n.log(o,"System busy making it detectable"),m(g,t,s),k[o]=k[o]||[],void k[o].push((function(){++p===i.length&&v()}))):(b&&n.log(o,"Making detectable..."),f.markBusy(t,!0),r.makeDetectable({debug:b},t,(function(t){if(b&&n.log(o,"onElementDetectable"),x.getState(t)){f.markAsDetectable(t),f.markBusy(t,!1),r.addListener(t,a),m(g,t,s);var e=x.getState(t);if(e&&e.startSize){var c=t.offsetWidth,l=t.offsetHeight;e.startSize.width===c&&e.startSize.height===l||a(t)}k[o]&&I(k[o],(function(t){t()}))}else b&&n.log(o,"Element uninstalled before being detectable.");delete k[o],++p===i.length&&v()})));b&&n.log(o,"Already detecable, adding listener."),m(g,t,s),p++})),p===i.length&&v()},removeListener:h.removeListener,removeAllListeners:h.removeAllListeners,uninstall:function(t){if(!t)return n.error("At least one element is required.");if(d(t))t=[t];else{if(!c(t))return n.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");t=l(t)}I(t,(function(t){h.removeAllListeners(t),r.uninstall(t),x.cleanState(t)}))}}},M=e;"undefined"!=typeof window&&window.Vue&&(M=window.Vue);var E={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"happy-scroll",staticClass:"happy-scroll"},[i("div",{ref:"container",staticClass:"happy-scroll-container",style:[t.initSize],on:{scroll:function(e){return e.stopPropagation(),t.onScroll(e)}}},[i("div",{ref:"content",staticClass:"happy-scroll-content",style:[t.contentBorderStyle]},[t._t("default")],2)]),t.hideVertical?t._e():i("happy-scroll-strip",t._g(t._b({ref:"stripY",attrs:{throttle:t.throttle,move:t.moveY},on:{change:t.slideYChange}},"happy-scroll-strip",t.$attrs,!1),t.$listeners)),t.hideHorizontal?t._e():i("happy-scroll-strip",t._g(t._b({ref:"stripX",attrs:{horizontal:"",throttle:t.throttle,move:t.moveX},on:{change:t.slideXChange}},"happy-scroll-strip",t.$attrs,!1),t.$listeners))],1)},staticRenderFns:[],name:"happy-scroll",inheritAttrs:!1,components:{HappyScrollStrip:m},props:{scrollTop:{type:[Number,String],default:0},scrollLeft:{type:[Number,String],default:0},hideVertical:Boolean,hideHorizontal:Boolean,throttle:{type:Number,default:14},resize:Boolean,smallerMoveH:{type:String,default:""},smallerMoveV:{type:String,default:""},biggerMoveH:{type:String,default:""},biggerMoveV:{type:String,default:""}},data:function(){return{initSize:{},moveX:+this.scrollLeft,moveY:+this.scrollTop,scrollThrottle:h(this.throttle),browserHSize:0,browserVSize:0,isScrollNotUseSpace:void 0}},watch:{scrollTop:function(t){this.$refs.container.scrollTop=this.moveY=+t},scrollLeft:function(t){this.$refs.container.scrollLeft=this.moveX=+t},hideVertical:function(t){t||this.$nextTick(this.computeStripY)},hideHorizontal:function(t){t||this.$nextTick(this.computeStripX)}},computed:{contentBorderStyle:function(){return void 0===this.isScrollNotUseSpace?{}:{"border-right":20-this.browserHSize+"px solid transparent","border-bottom":20-this.browserVSize+"px solid transparent"}}},methods:{slideYChange:function(t){this.$refs.container.scrollTop=t,this.$emit("update:scrollTop",this.$refs.container.scrollTop)},slideXChange:function(t){this.$refs.container.scrollLeft=t,this.$emit("update:scrollLeft",this.$refs.container.scrollLeft)},onScroll:function(t){if(!this.scrollThrottle(Date.now()))return!1;this.moveY=t.target.scrollTop,this.moveX=t.target.scrollLeft,this.updateSyncScroll()},initBrowserSize:function(){void 0!==this.isScrollNotUseSpace&&(!0===this.isScrollNotUseSpace?(this.browserHSize=0,this.browserVSize=0):(this.browserHSize=this.$refs.container.offsetWidth-this.$refs.container.clientWidth,this.browserVSize=this.$refs.container.offsetHeight-this.$refs.container.clientHeight))},computeStripX:function(){if(!this.hideHorizontal){var t=this.$refs["happy-scroll"],e=this.$slots.default[0].elm;this.$refs.stripX.computeStrip(e.scrollWidth,t.clientWidth)}},computeStripY:function(){if(!this.hideVertical){var t=this.$refs["happy-scroll"],e=this.$slots.default[0].elm;this.$refs.stripY.computeStrip(e.scrollHeight,t.clientHeight)}},resizeListener:function(){var t=this;if(this.resize){var e=j({strategy:"scroll",callOnAdd:!1}),i=this.$slots.default[0].elm,s=i.clientHeight,n=i.clientWidth;e.listenTo(i,(function(e){t.computeStripX(),t.computeStripY(),t.initBrowserSize();var i=void 0;e.clientHeight<s&&(i=t.smallerMoveH.toLocaleLowerCase()),e.clientHeight>s&&(i=t.biggerMoveH.toLocaleLowerCase()),"start"===i&&(t.moveY=0,t.slideYChange(t.moveY)),"end"===i&&(t.moveY=e.clientHeight,t.slideYChange(t.moveY)),s=e.clientHeight,i="",e.clientWidth<n&&(i=t.smallerMoveV.toLocaleLowerCase()),e.clientWidth>n&&(i=t.biggerMoveV.toLocaleLowerCase()),"start"===i&&(t.moveX=0,t.slideXChange(t.moveX)),"end"===i&&(t.moveX=e.clientWidth,t.slideXChange(t.moveX)),n=e.clientWidth}))}},setContainerSize:function(){this.initSize={width:this.$refs["happy-scroll"].clientWidth+20+"px",height:this.$refs["happy-scroll"].clientHeight+20+"px"}},checkScrollMode:function(){if(void 0===M._happyJS._isScrollNotUseSpace){var t=this.$slots.default[0].elm,e=this.$refs.container;(t.offsetHeight>e.clientHeight||t.offsetWidth>e.clientWidth)&&(e.offsetWidth>e.clientWidth||e.offsetHeight>e.clientHeight?M._happyJS._isScrollNotUseSpace=!1:M._happyJS._isScrollNotUseSpace=!0,this.isScrollNotUseSpace=M._happyJS._isScrollNotUseSpace)}}},beforeCreate:function(){var t=M._happyJS=M._happyJS||{};this.isScrollNotUseSpace=t._isScrollNotUseSpace},created:function(){this.updateSyncScroll=f((function(){this.$emit("update:scrollTop",this.moveY),this.$emit("update:scrollLeft",this.moveX)}),this.throttle)},mounted:function(){var t=this;this.setContainerSize(),this.$nextTick((function(){t.computeStripX(),t.computeStripY(),t.checkScrollMode(),t.initBrowserSize(),t.$nextTick((function(){t.scrollTop&&(t.$refs.container.scrollTop=+t.scrollTop),t.scrollLeft&&(t.$refs.container.scrollLeft=+t.scrollLeft)}))})),this.resizeListener(),this.$watch("browserHSize",this.setContainerSize),this.$watch("browserVSize",this.setContainerSize)}};"undefined"!=typeof window&&window.Vue&&Vue.component("happy-scroll",E);var T={install:function(t){t.component("happy-scroll",E)},version:"2.1.1"};t.default=T,t.HappyScroll=E,t.version="2.1.1",Object.defineProperty(t,"__esModule",{value:!0})}))},"6db9":function(t,e,i){"use strict";var s=i("f340"),n=i.n(s);n.a},"6fdc":function(t,e,i){},7624:function(t,e,i){"use strict";e["a"]=["em-tlj-1","em-tlj-3","em-tlj-4","em-tlj-5","em-tlj-6","em-tlj-7","em-tlj-8","em-tlj-9","em-tlj-10","em-tlj-11","em-tlj-12","em-tlj-13","em-tlj-14","em-tlj-15","em-tlj-16","em-tlj-17","em-tlj-18","em-tlj-19","em-tlj-20","em-tlj-21","em-tlj-22","em-tlj-23","em-tlj-24","em-tlj-25","em-tlj-26","em-tlj-27","em-tlj-28","em-tlj-29","em-tlj-30","em-tlj-31","em-tlj-32","em-tlj-33","em-tlj-34","em-tlj-35","em-tlj-36","em-tlj-37","em-tlj-38","em-tlj-39","em-tlj-40","em-tlj-41","em-tlj-42","em-tlj-43","em-tlj-44","em-tlj-45","em-tlj-46","em-tlj-47","em-tlj-48","em-tlj-49","em-tlj-50","em-tlj-51","em-tlj-52","em-tlj-53","em-tlj-54","em-tlj-55","em-tlj-56","em-tlj-57","em-tlj-58","em-tlj-59","em-tlj-60","em-tlj-61","em-tlj-62","em-tlj-63","em-tlj-64","em-tlj-65","em-tlj-66","em-tlj-67","em-tlj-68","em-tlj-69","em-tlj-70","em-tlj-71","em-tlj-72","em-tlj-73","em-tlj-74","em-tlj-75","em-tlj-76","em-tlj-77","em-tlj-78","em-tlj-79","em-tlj-80","em-tlj-81","em-tlj-82","em-tlj-83","em-tlj-84","em-tlj-85","em-tlj-86","em-tlj-87","em-tlj-88","em-tlj-89","em-tlj-90","em-tlj-91","em-tlj-92","em-tlj-93","em-tlj-94","em-tlj-95","em-tlj-96","em-smile","em-laughing","em-blush","em-smiley","em-relaxed","em-smirk","em-heart_eyes","em-kissing_heart","em-kissing_closed_eyes","em-flushed","em-relieved","em-satisfied","em-grin","em-wink","em-stuck_out_tongue_winking_eye","em-stuck_out_tongue_closed_eyes","em-grinning","em-kissing","em-kissing_smiling_eyes","em-stuck_out_tongue","em-sleeping","em-worried","em-frowning","em-anguished","em-open_mouth","em-grimacing","em-confused","em-hushed","em-expressionless","em-unamused","em-sweat_smile","em-sweat","em-disappointed_relieved","em-weary","em-pensive","em-disappointed","em-confounded","em-fearful","em-cold_sweat","em-persevere","em-cry","em-sob","em-joy","em-astonished","em-scream","em-tired_face","em-angry","em-rage","em-triumph","em-sleepy","em-yum","em-mask","em-sunglasses","em-dizzy_face","em-imp","em-smiling_imp","em-neutral_face","em-no_mouth","em-innocent","em-alien"]},"7a1a":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return a}));var s=i("6b6c");function n(){return Object(s["a"])({url:"service/info",method:"get",kefu:!0})}function a(t){return Object(s["a"])({url:"service/send_message",method:"post",mobile:!0,data:t})}},"8a73":function(t,e,i){},"99cf":function(t,e,i){},"9eec":function(t,e,i){},b116:function(t,e,i){"use strict";var s=i("d136"),n=i.n(s);n.a},be4d:function(t,e,i){"use strict";var s=i("8a73"),n=i.n(s);n.a},c1c2:function(t,e,i){"use strict";var s=i("2fcc"),n=i.n(s);n.a},d000:function(t,e,i){"use strict";var s=i("9eec"),n=i.n(s);n.a},d136:function(t,e,i){},d949:function(t,e,i){},d9b7:function(t,e,i){"use strict";var s=i("fe46"),n=i.n(s);n.a},ea87:function(t,e,i){t.exports=i.p+"img/no_zf.e61fe9b5.png"},f340:function(t,e,i){},fac8:function(t,e,i){"use strict";var s=i("6fdc"),n=i.n(s);n.a},fe46:function(t,e,i){}}]);